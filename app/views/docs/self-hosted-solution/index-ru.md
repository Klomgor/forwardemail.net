# Самостоятельное размещение электронной почты: приверженность открытому исходному коду {#self-hosted-email-commitment-to-open-source}

<img loading="lazy" src="/img/articles/self-hosted.webp" alt="" class="rounded-lg" />

## Содержание {#table-of-contents}

* [Предисловие](#foreword)
* [Почему важна собственная электронная почта](#why-self-hosted-email-matters)
  * [Проблема традиционных служб электронной почты](#the-problem-with-traditional-email-services)
  * [Альтернатива с самостоятельным размещением](#the-self-hosted-alternative)
* [Наша самостоятельная реализация: технический обзор](#our-self-hosted-implementation-technical-overview)
  * [Архитектура на основе Docker для простоты и переносимости](#docker-based-architecture-for-simplicity-and-portability)
  * [Установка скрипта Bash: доступность и безопасность](#bash-script-installation-accessibility-meets-security)
  * [Квантово-безопасное шифрование для конфиденциальности будущего](#quantum-safe-encryption-for-future-proof-privacy)
  * [Автоматизированное обслуживание и обновления](#automated-maintenance-and-updates)
* [Приверженность открытому исходному коду](#the-open-source-commitment)
* [Самостоятельное размещение или управляемое: как сделать правильный выбор](#self-hosted-vs-managed-making-the-right-choice)
  * [Реальность самостоятельного размещения электронной почты](#the-reality-of-self-hosting-email)
  * [Когда следует выбирать нашу управляемую услугу](#when-to-choose-our-managed-service)
* [Начало работы с самостоятельной пересылкой электронной почты](#getting-started-with-self-hosted-forward-email)
  * [Системные требования](#system-requirements)
  * [Этапы установки](#installation-steps)
* [Будущее самостоятельной электронной почты](#the-future-of-self-hosted-email)
* [Заключение: свобода электронной почты для всех](#conclusion-email-freedom-for-everyone)
* [Ссылки](#references)

## Предисловие {#foreword}

В современном цифровом ландшафте электронная почта остается основой нашей онлайн-идентичности и общения. Однако, по мере того, как растут опасения по поводу конфиденциальности, многие пользователи сталкиваются со сложным выбором: удобство за счет конфиденциальности или конфиденциальность за счет удобства. В Forward Email мы всегда считали, что вам не следует выбирать между ними.

Сегодня мы рады объявить о важной вехе в нашем путешествии: запуске нашего решения для самостоятельного размещения электронной почты. Эта функция отражает нашу глубочайшую приверженность принципам открытого исходного кода, дизайну, ориентированному на конфиденциальность, и расширению прав и возможностей пользователей. С нашим вариантом самостоятельного размещения мы передаем всю мощь и контроль над вашим общением по электронной почте непосредственно в ваши руки.

В этой записи блога рассматривается философия нашего решения, размещаемого на собственном сервере, его техническая реализация и то, почему оно важно для пользователей, которые в своих цифровых коммуникациях отдают приоритет как конфиденциальности, так и праву собственности.

## Почему важно иметь собственную электронную почту {#why-self-hosted-email-matters}

Наше решение для самостоятельного размещения электронной почты — это самое четкое выражение нашей веры в то, что настоящая конфиденциальность означает контроль, а контроль начинается с открытого исходного кода. Для пользователей, которые требуют полного владения своими цифровыми коммуникациями, самостоятельное размещение больше не является маргинальной идеей — это неотъемлемое право. Мы гордимся тем, что поддерживаем эту веру с помощью полностью открытой, проверяемой платформы, которую вы можете запустить на своих собственных условиях.

### Проблема традиционных почтовых служб {#the-problem-with-traditional-email-services}

Традиционные сервисы электронной почты создают ряд фундаментальных проблем для пользователей, заботящихся о конфиденциальности:

1. **Требования к доверию**: вы должны доверять поставщику, который не будет получать доступ, анализировать или передавать ваши данные
2. **Централизованный контроль**: ваш доступ может быть отозван в любое время и по любой причине
3. **Уязвимость к наблюдению**: централизованные сервисы являются основными целями для наблюдения
4. **Ограниченная прозрачность**: большинство сервисов используют фирменное программное обеспечение с закрытым исходным кодом
5. **Привязка к поставщику**: отказ от этих сервисов может быть сложным или невозможным

Даже «ориентированные на конфиденциальность» поставщики электронной почты часто не справляются, открывая исходный код только своих frontend-приложений, оставляя свои backend-системы фирменными и закрытыми. Это создает значительный пробел в доверии — вас просят верить их обещаниям конфиденциальности без возможности их проверить.

### Альтернатива с собственным хостингом {#the-self-hosted-alternative}

Самостоятельное размещение электронной почты обеспечивает принципиально иной подход:

1. **Полный контроль**: вы владеете и контролируете всю инфраструктуру электронной почты
2. **Проверяемая конфиденциальность**: вся система прозрачна и поддается аудиту
3. **Не требуется доверия**: вам не нужно доверять третьей стороне свои сообщения
4. **Свобода настройки**: адаптируйте систему к вашим конкретным потребностям
5. **Устойчивость**: ваш сервис продолжает работать независимо от решений любой компании

Как выразился один пользователь: «Размещение собственной электронной почты — это цифровой эквивалент выращивания собственной еды: это требует больше усилий, но я точно знаю, что в ней содержится».

## Наша реализация с собственным хостингом: технический обзор {#our-self-hosted-implementation-technical-overview}

Наше решение для самостоятельного размещения электронной почты построено на тех же принципах «конфиденциальность прежде всего», которые направляют все наши продукты. Давайте рассмотрим техническую реализацию, которая делает это возможным.

### Архитектура на основе Docker для простоты и портативности {#docker-based-architecture-for-simplicity-and-portability}

Мы упаковали всю нашу инфраструктуру электронной почты с помощью Docker, что упрощает ее развертывание практически на любой системе на базе Linux. Этот контейнерный подход обеспечивает несколько ключевых преимуществ:

1. **Упрощенное развертывание**: одна команда настраивает всю инфраструктуру
2. **Последовательная среда**: устраняет проблемы «работает на моей машине»
3. **Изолированные компоненты**: каждая служба запускается в своем собственном контейнере для безопасности
4. **Простые обновления**: простые команды для обновления всего стека
5. **Минимальные зависимости**: требуются только Docker и Docker Compose

Архитектура включает контейнеры для:

* Веб-интерфейс для администрирования
* SMTP-сервер для исходящей электронной почты
* IMAP/POP3-серверы для получения электронной почты
* CalDAV-сервер для календарей
* CardDAV-сервер для контактов
* База данных для хранения конфигурации
* Redis для кэширования и производительности
* SQLite для безопасного, зашифрованного хранения почтовых ящиков

> \[!NOTE]
> Be sure to check out our [self-hosted developer guide](https://forwardemail.net/self-hosted)

### Установка скрипта Bash: доступность и безопасность {#bash-script-installation-accessibility-meets-security}

Мы разработали процесс установки таким образом, чтобы он был максимально простым и при этом соответствовал лучшим практикам безопасности:

```bash
bash <(curl -fsSL https://raw.githubusercontent.com/forwardemail/forwardemail.net/master/self-hosting/setup.sh)
```

Эта единственная команда:

1. Проверяет системные требования
2. Проводит вас через настройку
3. Настраивает записи DNS
4. Настраивает сертификаты TLS
5. Развертывает контейнеры Docker
6. Выполняет начальное усиление безопасности

Для тех, кто обеспокоен передачей скриптов в bash (а вы должны быть обеспокоены!), мы рекомендуем просмотреть скрипт перед выполнением. Он полностью с открытым исходным кодом и доступен для проверки.

### Квантово-безопасное шифрование для конфиденциальности будущего {#quantum-safe-encryption-for-future-proof-privacy}

Как и наш размещенный сервис, наше решение с самостоятельным размещением реализует квантово-устойчивое шифрование с использованием ChaCha20-Poly1305 в качестве шифра для баз данных SQLite. Такой подход защищает ваши данные электронной почты не только от текущих угроз, но и от будущих атак квантовых вычислений.

Каждый почтовый ящик хранится в собственном зашифрованном файле базы данных SQLite, что обеспечивает полную изоляцию между пользователями — существенное преимущество в плане безопасности по сравнению с традиционными подходами к общим базам данных.

### Автоматизированное обслуживание и обновления {#automated-maintenance-and-updates}

Мы встроили комплексные утилиты обслуживания непосредственно в решение с самостоятельным размещением:

1. **Автоматическое резервное копирование**: запланированное резервное копирование всех критически важных данных
2. **Продление сертификата**: автоматизированное управление сертификатами Let's Encrypt
3. **Обновления системы**: простая команда для обновления до последней версии
4. **Мониторинг работоспособности**: встроенные проверки для обеспечения целостности системы

Доступ к этим утилитам осуществляется через простое интерактивное меню:

```bash
# script prompt

1. Initial setup
2. Setup Backups
3. Setup Auto Upgrades
4. Renew certificates
5. Restore from Backup
6. Help
7. Exit
```

## Приверженность открытому исходному коду {#the-open-source-commitment}

Наше решение для самостоятельного размещения электронной почты, как и все наши продукты, на 100% открытое — как frontend, так и backend. Это означает:

1. **Полная прозрачность**: каждая строка кода, обрабатывающая ваши электронные письма, доступна для публичного контроля.
2. **Вклад сообщества**: каждый может вносить улучшения или устранять проблемы.
3. **Безопасность через открытость**: уязвимости могут быть выявлены и устранены мировым сообществом.
4. **Отсутствие привязки к поставщику**: вы никогда не зависите от существования нашей компании.

Вся кодовая база доступна на GitHub по адресу <https://github.com/forwardemail/forwardemail.net>.

## Размещение на собственном сервере или управляемое: как сделать правильный выбор {#self-hosted-vs-managed-making-the-right-choice}

Хотя мы гордимся тем, что предлагаем вариант с самостоятельным размещением, мы понимаем, что это не правильный выбор для всех. Самостоятельное размещение электронной почты влечет за собой реальные обязанности и трудности:

### Реальность самостоятельного размещения электронной почты {#the-reality-of-self-hosting-email}

#### Технические соображения {#technical-considerations}

* **Управление сервером**: вам нужно будет поддерживать VPS или выделенный сервер
* **Конфигурация DNS**: правильная настройка DNS имеет решающее значение для доставляемости
* **Обновления безопасности**: важно быть в курсе обновлений безопасности
* **Управление спамом**: вам нужно будет заниматься фильтрацией спама
* **Стратегия резервного копирования**: реализация надежного резервного копирования — ваша ответственность

#### Временные вложения {#time-investment}

* **Первоначальная настройка**: время на настройку, проверку и чтение документации
* **Текущий уход**: периодические обновления и мониторинг
* **Устранение неполадок**: время на решение проблем

#### Финансовые соображения {#financial-considerations}

* **Стоимость сервера**: $5–$20/месяц за базовый VPS
* **Регистрация домена**: $10–$20/год
* **Временная стоимость**: ваши временные инвестиции имеют реальную ценность

### Когда следует выбирать нашу управляемую услугу {#when-to-choose-our-managed-service}

Для многих пользователей наш управляемый сервис остается лучшим вариантом:

1. **Удобство**: мы занимаемся всем обслуживанием, обновлениями и мониторингом
2. **Надежность**: воспользуйтесь нашей устоявшейся инфраструктурой и опытом
3. **Поддержка**: получите помощь при возникновении проблем
4. **Доставляемость**: используйте нашу устоявшуюся репутацию в области интеллектуальной собственности
5. **Экономическая эффективность**: если учесть временные затраты, наши услуги часто оказываются более экономичными

Оба варианта обеспечивают одинаковые преимущества в плане конфиденциальности и прозрачности открытого исходного кода — разница лишь в том, кто управляет инфраструктурой.

## Начало работы с собственной пересылкой электронной почты {#getting-started-with-self-hosted-forward-email}

Готовы взять под контроль свою инфраструктуру электронной почты? Вот как начать:

### Системные требования {#system-requirements}

* Ubuntu 20.04 LTS или более новая версия (рекомендуется)
* Минимум 1 ГБ ОЗУ (рекомендуется 2 ГБ и более)
* Рекомендуется 20 ГБ дискового пространства
* Доменное имя, которым вы управляете
* Публичный IP-адрес с поддержкой порта 25
* Возможность настройки [обратный ПТР](https://www.cloudflare.com/learning/dns/dns-records/dns-ptr-record/)
* Поддержка IPv4 и IPv6

> \[!TIP]
> We recommend several mail server providers at <https://forwardemail.net/blog/docs/best-mail-server-providers> (source at <https://github.com/forwardemail/awesome-mail-server-providers>)

### Шаги установки {#installation-steps}

1. **Запустите скрипт установки**:
```bash
   bash <(curl -fsSL https://raw.githubusercontent.com/forwardemail/forwardemail.net/master/self-hosting/setup.sh)
   ```

2. **Следуйте интерактивным подсказкам**:
* Введите свое доменное имя
* Настройте учетные данные администратора
* Настройте записи DNS в соответствии с инструкциями
* Выберите предпочтительные параметры конфигурации

3. **Проверка установки**:
После завершения установки вы можете убедиться, что всё работает:
* Проверив статус контейнера: `docker ps`
* Отправив тестовое письмо
* Войдя в веб-интерфейс

## Будущее самостоятельной электронной почты {#the-future-of-self-hosted-email}

Наше решение с самостоятельным размещением — это только начало. Мы стремимся к постоянному улучшению этого предложения с помощью:

1. **Расширенные инструменты администрирования**: более мощное веб-управление
2. **Дополнительные параметры аутентификации**: включая поддержку аппаратных ключей безопасности
3. **Расширенный мониторинг**: лучшее понимание состояния и производительности системы
4. **Развертывание на нескольких серверах**: параметры для конфигураций высокой доступности
5. **Улучшения, поддерживаемые сообществом**: включение вкладов пользователей

## Заключение: свобода электронной почты для каждого {#conclusion-email-freedom-for-everyone}

Запуск нашего решения для самостоятельного размещения электронной почты представляет собой важную веху в нашей миссии по предоставлению ориентированных на конфиденциальность, прозрачных услуг электронной почты. Независимо от того, выберете ли вы наш управляемый сервис или вариант самостоятельного размещения, вы выиграете от нашей непоколебимой приверженности принципам открытого исходного кода и дизайну, ориентированному на конфиденциальность.

Электронная почта слишком важна, чтобы ее можно было контролировать закрытыми, проприетарными системами, которые отдают приоритет сбору данных над конфиденциальностью пользователей. С помощью решения Forward Email, размещенного на собственном сервере, мы с гордостью предлагаем настоящую альтернативу — ту, которая дает вам полный контроль над вашими цифровыми коммуникациями.

Мы считаем, что конфиденциальность — это не просто функция; это фундаментальное право. И с нашей возможностью самостоятельного размещения электронной почты мы делаем это право более доступным, чем когда-либо прежде.

Готовы взять под контроль свою электронную почту? [Начните сегодня](https://forwardemail.net/self-hosted) или изучите нашу [Репозиторий GitHub](https://github.com/forwardemail/forwardemail.net), чтобы узнать больше.

## Ссылки {#references}

\[1] Переслать электронное письмо на GitHub-репозиторий: <https://github.com/forwardemail/forwardemail.net>

\[2] Самостоятельно размещенная документация: <https://forwardemail.net/en/self-hosted>

\[3] Техническая реализация конфиденциальности электронной почты: <https://forwardemail.net/en/blog/docs/email-privacy-protection-technical-implementation>

\[4] Почему открытая электронная почта так важна: <https://forwardemail.net/en/blog/docs/why-open-source-email-security-privacy>
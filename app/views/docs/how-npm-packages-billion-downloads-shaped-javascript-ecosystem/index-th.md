# ผลกระทบในทศวรรษ: แพ็กเกจ npm ของเรามียอดดาวน์โหลดถึง 1 พันล้านครั้งและสร้างรูปร่างให้กับ JavaScript ได้อย่างไร {#a-decade-of-impact-how-our-npm-packages-hit-1-billion-downloads-and-shaped-javascript}

<img กำลังโหลด="ขี้เกียจ" src="/img/articles/npm.webp" alt="" class="rounded-lg" />

## สารบัญ {#table-of-contents}

* [คำนำ](#foreword)
* [ผู้บุกเบิกที่ไว้วางใจเรา: ไอแซก ซี. ชลูเอเตอร์ และอีเมลส่งต่อ](#the-pioneers-who-trust-us-isaac-z-schlueter-and-forward-email)
  * [จากการสร้าง npm สู่การเป็นผู้นำ Node.js](#from-npms-creation-to-nodejs-leadership)
* [สถาปนิกเบื้องหลังโค้ด: การเดินทางของ Nick Baugh](#the-architect-behind-the-code-nick-baughs-journey)
  * [คณะกรรมการเทคนิคและการสนับสนุนหลักของบริษัท Express](#express-technical-committee-and-core-contributions)
  * [การมีส่วนสนับสนุนกรอบงาน Koa](#koa-framework-contributions)
  * [จากผู้มีส่วนสนับสนุนส่วนบุคคลสู่ผู้นำองค์กร](#from-individual-contributor-to-organization-leader)
* [องค์กร GitHub ของเรา: ระบบนิเวศแห่งนวัตกรรม](#our-github-organizations-ecosystems-of-innovation)
  * [ห้องโดยสาร: การบันทึกข้อมูลแบบมีโครงสร้างสำหรับแอปพลิเคชันสมัยใหม่](#cabin-structured-logging-for-modern-applications)
  * [เครื่องสแกนสแปม: ต่อสู้กับการละเมิดอีเมล](#spam-scanner-fighting-email-abuse)
  * [Bree: การกำหนดตารางงานสมัยใหม่ด้วย Worker Threads](#bree-modern-job-scheduling-with-worker-threads)
  * [ส่งต่ออีเมล: โครงสร้างพื้นฐานอีเมลโอเพ่นซอร์ส](#forward-email-open-source-email-infrastructure)
  * [Lad: ยูทิลิตี้และเครื่องมือ Koa ที่จำเป็น](#lad-essential-koa-utilities-and-tools)
  * [Upptime: การตรวจสอบเวลาการทำงานของโอเพ่นซอร์ส](#upptime-open-source-uptime-monitoring)
* [การมีส่วนสนับสนุนของเราต่อระบบนิเวศการส่งต่ออีเมล](#our-contributions-to-the-forward-email-ecosystem)
  * [จากแพ็คเกจสู่การผลิต](#from-packages-to-production)
  * [วงจรข้อเสนอแนะ](#the-feedback-loop)
* [หลักการสำคัญของการส่งต่ออีเมล: รากฐานเพื่อความเป็นเลิศ](#forward-emails-core-principles-a-foundation-for-excellence)
  * [เป็นมิตรกับนักพัฒนาเสมอ เน้นความปลอดภัย และโปร่งใส](#always-developer-friendly-security-focused-and-transparent)
  * [การยึดมั่นต่อหลักการพัฒนาซอฟต์แวร์ที่ได้รับการพิสูจน์แล้ว](#adherence-to-time-tested-software-development-principles)
  * [มุ่งเป้าไปที่นักพัฒนาที่เริ่มต้นด้วยตนเอง](#targeting-the-scrappy-bootstrapped-developer)
  * [หลักการในการปฏิบัติ: ฐานรหัสการส่งต่ออีเมล](#principles-in-practice-the-forward-email-codebase)
  * [ความเป็นส่วนตัวโดยการออกแบบ](#privacy-by-design)
  * [โอเพ่นซอร์สที่ยั่งยืน](#sustainable-open-source)
* [ตัวเลขไม่โกหก: สถิติการดาวน์โหลด npm ที่น่าทึ่งของเรา](#the-numbers-dont-lie-our-staggering-npm-download-statistics)
  * [มุมมองภาพรวมของผลกระทบของเรา](#a-birds-eye-view-of-our-impact)
  * [ผลกระทบรายวันในระดับขนาดใหญ่](#daily-impact-at-scale)
  * [เกินกว่าตัวเลขดิบ](#beyond-the-raw-numbers)
* [การสนับสนุนระบบนิเวศ: การสนับสนุนโอเพนซอร์สของเรา](#supporting-the-ecosystem-our-open-source-sponsorships)
  * [Andris Reinman: ผู้บุกเบิกโครงสร้างพื้นฐานอีเมล](#andris-reinman-email-infrastructure-pioneer)
  * [Sindre Sorhus: ผู้บงการแพ็คเกจยูทิลิตี้](#sindre-sorhus-utility-package-mastermind)
* [การเปิดเผยช่องโหว่ด้านความปลอดภัยในระบบนิเวศ JavaScript](#uncovering-security-vulnerabilities-in-the-javascript-ecosystem)
  * [การช่วยเหลือโคอา-เราเตอร์](#the-koa-router-rescue)
  * [การแก้ไขช่องโหว่ ReDoS](#addressing-redos-vulnerabilities)
  * [สนับสนุน Node.js และความปลอดภัยของ Chromium](#advocating-for-nodejs-and-chromium-security)
  * [การรักษาความปลอดภัยโครงสร้างพื้นฐาน npm](#securing-npm-infrastructure)
* [การมีส่วนสนับสนุนของเราต่อระบบนิเวศการส่งต่ออีเมล](#our-contributions-to-the-forward-email-ecosystem-1)
  * [การปรับปรุงฟังก์ชันหลักของ Nodemailer](#enhancing-nodemailers-core-functionality)
  * [การพัฒนาการตรวจสอบสิทธิ์อีเมลด้วย Mailauth](#advancing-email-authentication-with-mailauth)
  * [การปรับปรุงเวลาการทำงานที่สำคัญ](#key-upptime-enhancements)
* [กาวที่ยึดทุกอย่างเข้าด้วยกัน: รหัสที่กำหนดเองตามขนาด](#the-glue-that-holds-it-all-together-custom-code-at-scale)
  * [ความพยายามพัฒนาที่ยิ่งใหญ่](#a-massive-development-effort)
  * [การรวมการอ้างอิงแกนหลัก](#core-dependencies-integration)
  * [โครงสร้างพื้นฐาน DNS พร้อม Tangerine และ mx-connect](#dns-infrastructure-with-tangerine-and-mx-connect)
* [ผลกระทบต่อองค์กร: จากโอเพ่นซอร์สสู่โซลูชันที่สำคัญต่อภารกิจ](#enterprise-impact-from-open-source-to-mission-critical-solutions)
  * [กรณีศึกษาเกี่ยวกับโครงสร้างพื้นฐานอีเมลที่สำคัญต่อภารกิจ](#case-studies-in-mission-critical-email-infrastructure)
* [ทศวรรษแห่งโอเพ่นซอร์ส: มองไปข้างหน้า](#a-decade-of-open-source-looking-forward)

## คำนำ {#foreword}

ในโลกของ [จาวาสคริปต์](https://en.wikipedia.org/wiki/JavaScript) และ [Node.js](https://en.wikipedia.org/wiki/Node.js) แพ็กเกจบางตัวมีความสำคัญอย่างยิ่งยวด มียอดดาวน์โหลดหลายล้านครั้งต่อวัน และขับเคลื่อนแอปพลิเคชันทั่วโลก เบื้องหลังเครื่องมือเหล่านี้คือนักพัฒนาที่มุ่งเน้นคุณภาพโอเพนซอร์ส วันนี้ เราจะมาแสดงให้เห็นว่าทีมงานของเราช่วยสร้างและดูแลรักษาแพ็กเกจ npm ซึ่งกลายเป็นส่วนสำคัญของระบบนิเวศ JavaScript ได้อย่างไร

## ผู้บุกเบิกที่ไว้วางใจเรา: ไอแซค ซี. ชลูเอเตอร์ และส่งต่ออีเมล {#the-pioneers-who-trust-us-isaac-z-schlueter-and-forward-email}

เราภูมิใจที่ได้ [ไอแซ็ก ซี. ชลูเอเตอร์](https://izs.me/) ([GitHub: ไอแซ็กส์](https://github.com/isaacs)) เป็นผู้ใช้ Isaac ได้สร้าง [เอ็นพีเอ็ม](https://en.wikipedia.org/wiki/Npm_\(software\)) และช่วยสร้าง [Node.js](https://en.wikipedia.org/wiki/Node.js) ความไว้วางใจที่เขามีต่อ Forward Email แสดงให้เห็นถึงความมุ่งมั่นของเราในด้านคุณภาพและความปลอดภัย Isaac ใช้ Forward Email กับหลายโดเมน รวมถึง izs.me

อิทธิพลของไอแซคที่มีต่อ JavaScript นั้นมหาศาล ในปี 2009 เขาเป็นหนึ่งในคนกลุ่มแรกๆ ที่มองเห็นศักยภาพของ Node.js โดยทำงานร่วมกับ [ไรอัน ดาห์ล](https://en.wikipedia.org/wiki/Ryan_Dahl) ซึ่งเป็นผู้สร้างแพลตฟอร์มนี้ ดังที่ไอแซคกล่าวไว้ใน [บทสัมภาษณ์กับนิตยสาร Increment](https://increment.com/development/interview-with-isaac-z-schlueter-ceo-of-npm/) ว่า "ท่ามกลางชุมชนเล็กๆ ที่เต็มไปด้วยผู้คนมากมายที่พยายามหาวิธีที่จะทำให้ JS ฝั่งเซิร์ฟเวอร์เกิดขึ้นได้ ไรอัน ดาห์ล ได้คิดค้น Node ขึ้นมา ซึ่งเห็นได้ชัดว่าเป็นแนวทางที่ถูกต้อง ผมจึงทุ่มเทอย่างเต็มที่และมีส่วนร่วมอย่างมากในช่วงกลางปี 2009"

> \[!NOTE]
> For those interested in the history of Node.js, there are excellent documentaries available that chronicle its development, including [The Story of Node.js](https://www.youtube.com/watch?v=LB8KwiiUGy0) and [10 Things I Regret About Node.js - Ryan Dahl](https://www.youtube.com/watch?v=jo_B4LTHi3I). Ryan Dahl's [personal website](https://tinyclouds.org/) also contains valuable insights into his work.

### จากการสร้าง npm สู่ความเป็นผู้นำของ Node.js {#from-npms-creation-to-nodejs-leadership}

ไอแซคสร้าง npm ขึ้นในเดือนกันยายน 2009 โดยมีเวอร์ชันที่ใช้งานได้รุ่นแรกเปิดตัวในต้นปี 2010 ตัวจัดการแพ็กเกจนี้ตอบโจทย์ความต้องการหลักของ Node.js ช่วยให้นักพัฒนาสามารถแบ่งปันและนำโค้ดกลับมาใช้ใหม่ได้อย่างง่ายดาย อ้างอิงจาก [หน้า Wikipedia ของ Node.js](https://en.wikipedia.org/wiki/Node.js) ระบุว่า "ในเดือนมกราคม 2010 ได้มีการเปิดตัวตัวจัดการแพ็กเกจสำหรับสภาพแวดล้อม Node.js ที่เรียกว่า npm ตัวจัดการแพ็กเกจนี้ช่วยให้โปรแกรมเมอร์สามารถเผยแพร่และแชร์แพ็กเกจ Node.js พร้อมกับซอร์สโค้ดที่เกี่ยวข้อง และได้รับการออกแบบมาเพื่อให้การติดตั้ง อัปเดต และถอนการติดตั้งแพ็กเกจทำได้ง่ายขึ้น"

เมื่อไรอัน ดาห์ล ก้าวลงจาก Node.js ในเดือนมกราคม 2012 ไอแซคก็เข้ามารับตำแหน่งหัวหน้าโครงการ ดังที่ระบุไว้ใน [บทสรุปของเขา](https://izs.me/resume) เขา "เป็นผู้นำการพัฒนา API หลักของ Node.js หลายตัว รวมถึงระบบโมดูล CommonJS, API ระบบไฟล์ และสตรีม" และ "ทำหน้าที่เป็น BDFL (Benevolent Dictator For Life) ของโครงการเป็นเวลา 2 ปี เพื่อให้มั่นใจว่ากระบวนการสร้าง Node.js เวอร์ชัน 0.6 ถึง 0.10 มีคุณภาพและเชื่อถือได้มากขึ้นเรื่อยๆ"

ไอแซ็กเป็นผู้นำ Node.js ผ่านช่วงการเติบโตที่สำคัญ โดยกำหนดมาตรฐานที่ยังคงกำหนดรูปแบบแพลตฟอร์มในปัจจุบัน ต่อมาเขาได้ก่อตั้ง npm, Inc. ในปี 2014 เพื่อรองรับรีจิสทรี npm ซึ่งเขาเคยดำเนินการด้วยตัวเองมาก่อน

เราขอขอบคุณ Isaac สำหรับการสนับสนุนอันยิ่งใหญ่ของเขาที่มีต่อ JavaScript และยังคงใช้แพ็คเกจจำนวนมากที่เขาสร้างขึ้น งานของเขาได้เปลี่ยนแปลงวิธีที่เราสร้างซอฟต์แวร์และวิธีที่นักพัฒนาหลายล้านคนแบ่งปันโค้ดทั่วโลก

## สถาปนิกเบื้องหลังโค้ด: การเดินทางของ Nick Baugh {#the-architect-behind-the-code-nick-baughs-journey}

หัวใจสำคัญของความสำเร็จด้านโอเพ่นซอร์สของเราคือ Nick Baugh ผู้ก่อตั้งและเจ้าของ Forward Email ผลงานด้าน JavaScript ของเขากินเวลานานเกือบ 20 ปี และได้หล่อหลอมให้นักพัฒนาซอฟต์แวร์จำนวนนับไม่ถ้วนสร้างแอปขึ้นมา เส้นทางการทำงานด้านโอเพ่นซอร์สของเขาแสดงให้เห็นถึงทั้งทักษะทางเทคนิคและความเป็นผู้นำในชุมชน

### คณะกรรมการเทคนิค Express และการสนับสนุนหลัก {#express-technical-committee-and-core-contributions}

ความเชี่ยวชาญด้านเฟรมเวิร์กเว็บของนิคทำให้เขาได้รับเลือกให้อยู่ใน [คณะกรรมการเทคนิคเอ็กซ์เพรส](https://expressjs.com/en/resources/community.html) ซึ่งเขาได้ช่วยพัฒนาเฟรมเวิร์ก Node.js ที่มีการใช้งานมากที่สุดตัวหนึ่ง ปัจจุบันนิคเป็นสมาชิกที่ไม่ได้ใช้งานใน [หน้าชุมชนเอ็กซ์เพรส](https://expressjs.com/en/resources/community.html)

> \[!IMPORTANT]
> Express was originally created by TJ Holowaychuk, a prolific open source contributor who has shaped much of the Node.js ecosystem. We're grateful for TJ's foundational work and respect his [decision to take a break](https://news.ycombinator.com/item?id=37687017) from his extensive open source contributions.

ในฐานะสมาชิกของ [คณะกรรมการเทคนิคเอ็กซ์เพรส](https://expressjs.com/en/resources/community.html) นิคได้แสดงความเอาใจใส่ต่อรายละเอียดอย่างมากในประเด็นต่างๆ เช่น การชี้แจงเอกสาร `req.originalUrl` และการแก้ไขปัญหาการจัดการแบบฟอร์มหลายส่วน

### การสนับสนุนกรอบงาน Koa {#koa-framework-contributions}

ผลงานของ Nick กับ [กรอบโครงสร้างโคอา](https://github.com/koajs/koa) ซึ่งเป็นทางเลือกที่ทันสมัยและเบากว่า Express ซึ่งสร้างโดย TJ Holowaychuk เช่นกัน แสดงให้เห็นถึงความมุ่งมั่นของเขาในการพัฒนาเครื่องมือพัฒนาเว็บให้ดียิ่งขึ้น ผลงาน Koa ของเขาครอบคลุมทั้งปัญหาและโค้ดผ่าน Pull Request การจัดการข้อผิดพลาด การจัดการประเภทเนื้อหา และการปรับปรุงเอกสารประกอบ

ผลงานของเขาทั้งในด้าน Express และ Koa ทำให้เขามีมุมมองที่เป็นเอกลักษณ์เกี่ยวกับการพัฒนาเว็บ Node.js และช่วยให้ทีมของเราสร้างแพ็คเกจที่ทำงานได้ดีกับระบบนิเวศเฟรมเวิร์กหลากหลายประเภท

### จากผู้มีส่วนสนับสนุนรายบุคคลสู่ผู้นำองค์กร {#from-individual-contributor-to-organization-leader}

สิ่งที่เริ่มต้นจากการช่วยเหลือโครงการที่มีอยู่เดิม ได้เติบโตเป็นการสร้างและดูแลรักษาระบบนิเวศแบบองค์รวม นิคได้ก่อตั้งองค์กร GitHub หลายแห่ง ซึ่งรวมถึง [ห้องโดยสาร](https://github.com/cabinjs), [เครื่องสแกนสแปม](https://github.com/spamscanner), [ส่งต่ออีเมล์](https://github.com/forwardemail), [หนุ่มน้อย](https://github.com/ladjs) และ [บรี](https://github.com/breejs) โดยแต่ละองค์กรต่างก็ช่วยแก้ปัญหาเฉพาะหน้าในชุมชน JavaScript

การเปลี่ยนแปลงจากผู้มีส่วนสนับสนุนมาเป็นผู้นำนี้แสดงให้เห็นถึงวิสัยทัศน์ของ Nick สำหรับซอฟต์แวร์ที่ออกแบบมาอย่างดีซึ่งสามารถแก้ไขปัญหาจริงได้ ด้วยการจัดระเบียบแพ็คเกจที่เกี่ยวข้องภายใต้องค์กร GitHub เฉพาะด้าน เขาจึงสร้างระบบนิเวศของเครื่องมือที่ทำงานร่วมกันได้ในขณะที่ยังคงความเป็นโมดูลและความยืดหยุ่นสำหรับชุมชนนักพัฒนาที่กว้างขึ้น

## องค์กร GitHub ของเรา: ระบบนิเวศแห่งนวัตกรรม {#our-github-organizations-ecosystems-of-innovation}

เราจัดระเบียบงานโอเพ่นซอร์สของเราโดยเน้นไปที่องค์กร GitHub ที่แต่ละองค์กรตอบสนองความต้องการเฉพาะใน JavaScript โครงสร้างนี้สร้างกลุ่มแพ็คเกจที่เชื่อมโยงกันซึ่งทำงานร่วมกันได้ดีในขณะที่ยังคงความเป็นโมดูล

### Cabin: การบันทึกข้อมูลแบบมีโครงสร้างสำหรับแอปพลิเคชันสมัยใหม่ {#cabin-structured-logging-for-modern-applications}

[การจัดระบบห้องโดยสาร](https://github.com/cabinjs) คือระบบบันทึกข้อมูลแอปพลิเคชันที่เรียบง่ายแต่ทรงพลังในแบบฉบับของเรา แพ็กเกจหลัก [`cabin`](https://github.com/cabinjs/cabin) มีดาวบน GitHub เกือบ 900 ดวง และมียอดดาวน์โหลดรายสัปดาห์มากกว่า 100,000 ครั้ง Cabin มีการบันทึกข้อมูลแบบมีโครงสร้างที่ทำงานร่วมกับบริการยอดนิยมอย่าง Sentry, LogDNA และ Papertrail

สิ่งที่ทำให้ Cabin พิเศษคือระบบ API และปลั๊กอินที่ใส่ใจ แพ็คเกจที่รองรับ เช่น [`axe`](https://github.com/cabinjs/axe) สำหรับมิดเดิลแวร์ Express และ [`parse-request`](https://github.com/cabinjs/parse-request) สำหรับการแยกวิเคราะห์คำขอ HTTP แสดงให้เห็นถึงความมุ่งมั่นของเราที่จะนำเสนอโซลูชันที่ครบวงจร แทนที่จะใช้เครื่องมือที่แยกส่วน

แพ็กเกจ [`bson-objectid`](https://github.com/cabinjs/bson-objectid) สมควรได้รับการกล่าวถึงเป็นพิเศษ ด้วยยอดดาวน์โหลดกว่า 1.7 ล้านครั้งภายในเวลาเพียงสองเดือน\[^2] การใช้งาน MongoDB ObjectID แบบเบาๆ นี้ได้กลายเป็นตัวเลือกยอดนิยมสำหรับนักพัฒนาที่ต้องการ ID โดยไม่ต้องพึ่งพา MongoDB เต็มรูปแบบ

### เครื่องสแกนสแปม: ต่อสู้กับการละเมิดอีเมล {#spam-scanner-fighting-email-abuse}

[องค์กรสแกนสแปม](https://github.com/spamscanner) แสดงให้เห็นถึงความมุ่งมั่นของเราในการแก้ไขปัญหาที่แท้จริง แพ็กเกจหลัก [`spamscanner`](https://github.com/spamscanner/spamscanner) มีการตรวจจับสแปมอีเมลขั้นสูง แต่แพ็กเกจ [`url-regex-safe`](https://github.com/spamscanner/url-regex-safe) ที่มีการใช้งานอย่างน่าทึ่ง

ด้วยยอดดาวน์โหลดกว่า 1.2 ล้านครั้งภายในสองเดือน\[^3] `url-regex-safe` ได้แก้ไขปัญหาความปลอดภัยที่สำคัญในนิพจน์ทั่วไปสำหรับการตรวจจับ URL อื่นๆ แพ็กเกจนี้แสดงให้เห็นถึงแนวทางของเราในการเข้าถึงโอเพนซอร์ส: การค้นหาปัญหาที่พบบ่อย (ในกรณีนี้คือช่องโหว่ [ทำซ้ำ](https://en.wikipedia.org/wiki/ReDoS) ในการตรวจสอบ URL) การสร้างโซลูชันที่มีประสิทธิภาพ และการดูแลรักษาอย่างระมัดระวัง

### Bree: การจัดตารางงานสมัยใหม่ด้วยเธรดคนงาน {#bree-modern-job-scheduling-with-worker-threads}

[องค์กรบรี](https://github.com/breejs) คือคำตอบของเราสำหรับความท้าทายทั่วไปของ Node.js นั่นคือการจัดตารางงานที่เชื่อถือได้ แพ็กเกจหลัก [`bree`](https://github.com/breejs/bree) ที่มีดาวบน GitHub มากกว่า 3,100 ดวง มอบตัวจัดตารางงานที่ทันสมัยโดยใช้เธรดเวิร์กเกอร์ของ Node.js เพื่อประสิทธิภาพและความน่าเชื่อถือที่ดีขึ้น

> \[!NOTE]
> Bree was created after we helped maintain [Agenda](https://github.com/agenda/agenda), applying lessons learned to build a better job scheduler. Our Agenda contributions helped us find ways to improve job scheduling.

สิ่งที่ทำให้ Bree แตกต่างจากเครื่องมือจัดตารางงานอื่น ๆ เช่น Agenda:

* **ไม่มีการพึ่งพาภายนอก**: ต่างจาก Agenda ที่ต้องใช้ MongoDB, Bree ไม่ต้องการ Redis หรือ MongoDB ในการจัดการสถานะงาน
* **เธรดผู้ปฏิบัติงาน**: Bree ใช้เธรดผู้ปฏิบัติงานของ Node.js สำหรับกระบวนการแซนด์บ็อกซ์ ช่วยให้แยกส่วนและเพิ่มประสิทธิภาพได้ดีขึ้น
* **API ที่เรียบง่าย**: Bree นำเสนอการควบคุมโดยละเอียดพร้อมความเรียบง่าย ทำให้ง่ายต่อการนำความต้องการในการจัดตารางเวลาที่ซับซ้อนไปใช้
* **การสนับสนุนในตัว**: สิ่งต่างๆ เช่น การโหลดซ้ำที่ราบรื่น งาน cron วันที่ และเวลาที่เป็นมิตรกับมนุษย์จะรวมอยู่ตามค่าเริ่มต้น

Bree เป็นส่วนสำคัญของ [forwardemail.net](https://github.com/forwardemail/forwardemail.net) โดยรับผิดชอบงานเบื้องหลังที่สำคัญ เช่น การประมวลผลอีเมล การล้างข้อมูล และการบำรุงรักษาตามกำหนดเวลา การใช้ Bree ใน Forward Email แสดงให้เห็นถึงความมุ่งมั่นของเราในการใช้เครื่องมือของเราเองในการผลิต เพื่อให้มั่นใจว่าเครื่องมือเหล่านั้นเป็นไปตามมาตรฐานความน่าเชื่อถือสูง

เรายังใช้และชื่นชมแพ็กเกจ worker thread ที่ยอดเยี่ยมอื่นๆ เช่น [สระน้ำ](https://github.com/piscinajs/piscina) และ HTTP client เช่น [สิบเอ็ด](https://github.com/nodejs/undici) Piscina เช่นเดียวกับ Bree ใช้ worker thread ของ Node.js เพื่อการประมวลผลงานอย่างมีประสิทธิภาพ เราขอขอบคุณ [แมทธิว ฮิลล์](https://github.com/mcollina) ผู้ดูแลทั้ง undici และ piscina สำหรับการมีส่วนร่วมที่สำคัญใน Node.js Matteo ดำรงตำแหน่งในคณะกรรมการกำกับดูแลด้านเทคนิคของ Node.js และได้พัฒนาความสามารถของ HTTP client ใน Node.js อย่างมาก

### ส่งต่ออีเมล: โครงสร้างพื้นฐานอีเมลโอเพ่นซอร์ส {#forward-email-open-source-email-infrastructure}

โครงการที่ทะเยอทะยานที่สุดของเราคือ [ส่งต่ออีเมล์](https://github.com/forwardemail) ซึ่งเป็นบริการอีเมลโอเพนซอร์สที่ให้บริการส่งต่ออีเมล จัดเก็บ และ API คลังเก็บหลักมีดาวบน GitHub มากกว่า 1,100 ดวง\[^4] ซึ่งแสดงให้เห็นถึงความชื่นชมจากชุมชนที่มีต่อทางเลือกใหม่นี้แทนบริการอีเมลแบบมีกรรมสิทธิ์

แพ็กเกจ [`preview-email`](https://github.com/forwardemail/preview-email) จากองค์กรนี้ ซึ่งมียอดดาวน์โหลดมากกว่า 2.5 ล้านครั้งภายในสองเดือน\[^5] ได้กลายเป็นเครื่องมือสำคัญสำหรับนักพัฒนาที่ทำงานกับเทมเพลตอีเมล ด้วยการนำเสนอวิธีง่ายๆ ในการดูตัวอย่างอีเมลระหว่างการพัฒนา แพ็กเกจนี้จึงช่วยแก้ปัญหาที่พบบ่อยในการสร้างแอปพลิเคชันที่รองรับอีเมล

### Lad: ยูทิลิตี้และเครื่องมือ Koa ที่จำเป็น {#lad-essential-koa-utilities-and-tools}

[องค์กรหนุ่มๆ](https://github.com/ladjs) นำเสนอชุดยูทิลิตี้และเครื่องมือที่จำเป็น ซึ่งมุ่งเน้นการพัฒนาระบบนิเวศเฟรมเวิร์ก Koa เป็นหลัก แพ็คเกจเหล่านี้ช่วยแก้ไขปัญหาทั่วไปในการพัฒนาเว็บ และได้รับการออกแบบมาให้ทำงานร่วมกันได้อย่างราบรื่น ในขณะที่ยังคงใช้งานได้อย่างอิสระ

#### koa-better-error-handler: ปรับปรุงการจัดการข้อผิดพลาดสำหรับ Koa {#koa-better-error-handler-improved-error-handling-for-koa}

[`koa-better-error-handler`](https://github.com/ladjs/koa-better-error-handler) นำเสนอโซลูชันการจัดการข้อผิดพลาดที่ดีกว่าสำหรับแอปพลิเคชัน Koa ด้วยดาวบน GitHub กว่า 50 ดวง แพ็กเกจนี้ทำให้ `ctx.throw` สร้างข้อความแสดงข้อผิดพลาดที่ใช้งานง่าย พร้อมกับแก้ไขข้อจำกัดหลายประการของตัวจัดการข้อผิดพลาดในตัวของ Koa:

* ตรวจจับและจัดการข้อผิดพลาด DNS ของ Node.js, ข้อผิดพลาด Mongoose และข้อผิดพลาด Redis ได้อย่างถูกต้อง
* ใช้ [บูม](https://github.com/hapijs/boom) เพื่อสร้างการตอบกลับข้อผิดพลาดที่สอดคล้องและมีการจัดรูปแบบที่ดี
* รักษาส่วนหัว (ต่างจากตัวจัดการในตัวของ Koa)
* รักษารหัสสถานะที่เหมาะสมแทนที่จะตั้งค่าเริ่มต้นเป็น 500
* รองรับข้อความแฟลชและการเก็บรักษาเซสชัน
* แสดงรายการข้อผิดพลาด HTML สำหรับข้อผิดพลาดการตรวจสอบ
* รองรับการตอบกลับหลายประเภท (HTML, JSON และข้อความธรรมดา)

แพ็คเกจนี้มีประโยชน์อย่างยิ่งเมื่อใช้ร่วมกับ [`koa-404-handler`](https://github.com/ladjs/koa-404-handler) เพื่อการจัดการข้อผิดพลาดที่ครอบคลุมในแอปพลิเคชัน Koa

#### หนังสือเดินทาง: การตรวจสอบสิทธิ์สำหรับ Lad {#passport-authentication-for-lad}

[`@ladjs/passport`](https://github.com/ladjs/passport) ขยายมิดเดิลแวร์การยืนยันตัวตน Passport.js ยอดนิยมด้วยการปรับปรุงเฉพาะสำหรับแอปพลิเคชันเว็บสมัยใหม่ แพ็คเกจนี้รองรับกลยุทธ์การยืนยันตัวตนที่หลากหลายตั้งแต่เริ่มต้น:

* การยืนยันตัวตนในพื้นที่ด้วยอีเมล
* ลงชื่อเข้าใช้ด้วย Apple
* การยืนยันตัวตนด้วย GitHub
* การยืนยันตัวตนด้วย Google
* การยืนยันตัวตนด้วยรหัสผ่านครั้งเดียว (OTP)

แพ็คเกจนี้ปรับแต่งได้สูง ช่วยให้นักพัฒนาปรับแต่งชื่อฟิลด์และวลีให้ตรงกับความต้องการของแอปพลิเคชันได้ แพ็คเกจนี้ได้รับการออกแบบมาให้บูรณาการกับ Mongoose ได้อย่างราบรื่นสำหรับการจัดการผู้ใช้ ทำให้เป็นโซลูชันที่เหมาะสำหรับแอปพลิเคชันที่ใช้ Koa ซึ่งต้องการการตรวจสอบสิทธิ์ที่แข็งแกร่ง

#### สง่างาม: การปิดระบบแอปพลิเคชันอย่างสง่างาม {#graceful-elegant-application-shutdown}

[`@ladjs/graceful`](https://github.com/ladjs/graceful) แก้ไขปัญหาสำคัญในการปิดแอปพลิเคชัน Node.js ได้อย่างราบรื่น ด้วยดาวบน GitHub กว่า 70 ดวง แพ็กเกจนี้ช่วยให้มั่นใจได้ว่าแอปพลิเคชันของคุณจะสามารถยุติการทำงานได้อย่างเรียบร้อยโดยไม่สูญเสียข้อมูลหรือทำให้การเชื่อมต่อหยุดชะงัก คุณสมบัติหลักประกอบด้วย:

* รองรับการปิดเซิร์ฟเวอร์ HTTP อย่างราบรื่น (Express/Koa/Fastify)
* การปิดการเชื่อมต่อฐานข้อมูลอย่างเรียบร้อย (MongoDB/Mongoose)
* การปิดไคลเอนต์ Redis อย่างถูกต้อง
* การจัดการตัวกำหนดเวลาการทำงานของ Bree
* รองรับตัวจัดการการปิดระบบแบบกำหนดเอง
* การตั้งค่าเวลาหมดที่กำหนดค่าได้
* การบูรณาการกับระบบบันทึกข้อมูล

แพ็กเกจนี้จำเป็นสำหรับแอปพลิเคชันที่ใช้งานจริง ซึ่งการปิดระบบโดยไม่คาดคิดอาจทำให้ข้อมูลสูญหายหรือเสียหายได้ `@ladjs/graceful` จะช่วยรับประกันความน่าเชื่อถือและเสถียรภาพของแอปพลิเคชันของคุณ ด้วยการใช้ขั้นตอนการปิดระบบที่เหมาะสม

### Upptime: การตรวจสอบ Uptime โอเพนซอร์ส {#upptime-open-source-uptime-monitoring}

[องค์กรอัปไทม์](https://github.com/upptime) แสดงให้เห็นถึงความมุ่งมั่นของเราในการตรวจสอบโอเพนซอร์สอย่างโปร่งใส คลังเก็บหลักของ [`upptime`](https://github.com/upptime/upptime) มีดาว GitHub มากกว่า 13,000 ดวง ทำให้เป็นหนึ่งในโครงการยอดนิยมที่เรามีส่วนร่วม Upptime นำเสนอเครื่องมือตรวจสอบสถานะการทำงานและหน้าสถานะที่ขับเคลื่อนโดย GitHub ซึ่งทำงานได้โดยไม่ต้องมีเซิร์ฟเวอร์

เราใช้ Upptime สำหรับหน้าสถานะของเราเองที่ <https://status.forwardemail.net> โดยมีโค้ดต้นฉบับอยู่ที่ <https://github.com/forwardemail/status.forwardemail.net>.

สิ่งที่ทำให้ Upptime พิเศษคือสถาปัตยกรรม:

* **โอเพนซอร์ส 100%**: ทุกส่วนประกอบเป็นโอเพนซอร์สอย่างสมบูรณ์และปรับแต่งได้
* **ขับเคลื่อนโดย GitHub**: ใช้ประโยชน์จาก GitHub Actions, Issues และ Pages เพื่อโซลูชันการตรวจสอบแบบไร้เซิร์ฟเวอร์
* **ไม่ต้องใช้เซิร์ฟเวอร์**: แตกต่างจากเครื่องมือตรวจสอบแบบเดิม Upptime ไม่จำเป็นต้องให้คุณรันหรือบำรุงรักษาเซิร์ฟเวอร์
* **หน้าสถานะอัตโนมัติ**: สร้างหน้าสถานะที่สวยงามซึ่งสามารถโฮสต์บน GitHub Pages ได้
* **การแจ้งเตือนอันทรงพลัง**: ผสานรวมกับช่องทางการแจ้งเตือนต่างๆ รวมถึงอีเมล SMS และ Slack

เพื่อยกระดับประสบการณ์การใช้งานของผู้ใช้ เราได้ผสานรวม [@octokit/คอร์](https://github.com/octokit/core.js/) เข้ากับฐานโค้ดของ forwardemail.net เพื่อแสดงผลการอัปเดตสถานะและเหตุการณ์แบบเรียลไทม์บนเว็บไซต์ของเราโดยตรง การผสานรวมนี้มอบความโปร่งใสที่ชัดเจนให้กับผู้ใช้ของเราในกรณีที่มีปัญหาใดๆ เกิดขึ้นทั่วทั้งระบบ (เว็บไซต์, API, MongoDB, Redis, SQLite, SMTP, POP3, IMAP, Bree ฯลฯ) พร้อมการแจ้งเตือนแบบทันที การเปลี่ยนไอคอนแบดจ์ สีคำเตือน และอื่นๆ อีกมากมาย

ไลบรารี @octokit/core ช่วยให้เราสามารถดึงข้อมูลแบบเรียลไทม์จากคลังข้อมูล Upptime GitHub ของเรา ประมวลผลข้อมูล และแสดงข้อมูลในลักษณะที่เป็นมิตรต่อผู้ใช้ เมื่อบริการใดหยุดให้บริการหรือประสิทธิภาพลดลง ผู้ใช้จะได้รับการแจ้งเตือนทันทีผ่านตัวบ่งชี้ภาพโดยไม่ต้องออกจากแอปพลิเคชันหลัก การผสานรวมที่ราบรื่นนี้ช่วยให้ผู้ใช้ของเรามีข้อมูลล่าสุดเกี่ยวกับสถานะระบบของเราอยู่เสมอ ช่วยเพิ่มความโปร่งใสและความน่าเชื่อถือ

Upptime ได้รับการนำไปใช้งานโดยองค์กรต่างๆ หลายร้อยแห่งที่ต้องการหาวิธีที่โปร่งใสและเชื่อถือได้ในการตรวจสอบบริการของตนและแจ้งสถานะให้ผู้ใช้ทราบ ความสำเร็จของโครงการนี้แสดงให้เห็นถึงพลังของการสร้างเครื่องมือที่ใช้ประโยชน์จากโครงสร้างพื้นฐานที่มีอยู่ (ในกรณีนี้คือ GitHub) เพื่อแก้ไขปัญหาทั่วไปในรูปแบบใหม่ๆ

## การสนับสนุนของเราต่อระบบนิเวศอีเมลส่งต่อ {#our-contributions-to-the-forward-email-ecosystem}

แม้ว่าแพ็คเกจโอเพ่นซอร์สของเราจะถูกใช้โดยนักพัฒนาจากทั่วโลก แต่แพ็คเกจเหล่านี้ยังเป็นรากฐานของบริการ Forward Email ของเราอีกด้วย บทบาทคู่ขนานนี้—ในฐานะผู้สร้างและผู้ใช้เครื่องมือเหล่านี้—ทำให้เราได้รับมุมมองที่เป็นเอกลักษณ์เกี่ยวกับแอปพลิเคชันในโลกแห่งความเป็นจริงและผลักดันการปรับปรุงอย่างต่อเนื่อง

### จากแพ็คเกจสู่การผลิต {#from-packages-to-production}

การเดินทางจากแพ็คเกจแต่ละรายการไปสู่ระบบการผลิตที่เชื่อมโยงกันนั้นต้องอาศัยการบูรณาการและการขยายอย่างระมัดระวัง สำหรับอีเมลส่งต่อ กระบวนการนี้ประกอบด้วย:

* **ส่วนขยายแบบกำหนดเอง**: การสร้างส่วนขยายเฉพาะอีเมลส่งต่อไปยังแพ็คเกจโอเพ่นซอร์สของเราที่ตอบสนองความต้องการเฉพาะของเรา
* **รูปแบบการรวม**: การพัฒนารูปแบบสำหรับวิธีที่แพ็คเกจเหล่านี้โต้ตอบกันในสภาพแวดล้อมการผลิต
* **การเพิ่มประสิทธิภาพการทำงาน**: การระบุและแก้ไขคอขวดประสิทธิภาพที่เกิดขึ้นในระดับขนาดใหญ่เท่านั้น
* **การเสริมความปลอดภัย**: การเพิ่มชั้นความปลอดภัยเพิ่มเติมที่เฉพาะเจาะจงสำหรับการจัดการอีเมลและการปกป้องข้อมูลของผู้ใช้

งานนี้แสดงถึงการพัฒนาหลายพันชั่วโมงเกินกว่าแพ็คเกจหลักเอง ส่งผลให้ได้บริการอีเมลที่แข็งแกร่งและปลอดภัยซึ่งใช้ประโยชน์จากสิ่งที่ดีที่สุดจากผลงานโอเพนซอร์สของเรา

### วงจรข้อเสนอแนะ {#the-feedback-loop}

บางทีสิ่งที่มีค่าที่สุดอย่างหนึ่งในการใช้แพ็คเกจของเราเองในการผลิตก็คือวงจรป้อนกลับที่เกิดขึ้น เมื่อเราพบข้อจำกัดหรือกรณีขอบในการส่งต่ออีเมล เราไม่ได้แค่แก้ไขในเครื่องเท่านั้น แต่เรายังปรับปรุงแพ็คเกจพื้นฐานอีกด้วย ซึ่งจะส่งผลดีต่อทั้งบริการของเราและชุมชนโดยรวม

แนวทางนี้ทำให้เกิดการปรับปรุงมากมาย:

* **การปิดระบบอย่างราบรื่นของ Bree**: ความจำเป็นในการส่งต่ออีเมลเพื่อให้ใช้งานได้โดยไม่มีเวลาหยุดทำงานทำให้ Bree มีความสามารถในการปิดระบบอย่างราบรื่นมากขึ้น
* **การจดจำรูปแบบของเครื่องสแกนสแปม**: รูปแบบสแปมในโลกแห่งความเป็นจริงที่พบในการส่งต่ออีเมลได้ส่งผลต่ออัลกอริทึมการตรวจจับของเครื่องสแกนสแปม
* **การเพิ่มประสิทธิภาพการทำงานของ Cabin**: การบันทึกข้อมูลปริมาณมากในการผลิตเผยให้เห็นโอกาสในการเพิ่มประสิทธิภาพใน Cabin ซึ่งเป็นประโยชน์ต่อผู้ใช้ทุกคน

โดยการรักษาวงจรอันมีคุณธรรมนี้ระหว่างการทำงานโอเพนซอร์สและบริการการผลิตของเรา เราจึงมั่นใจได้ว่าแพ็คเกจของเรายังคงเป็นโซลูชันที่ใช้งานได้จริงและผ่านการทดสอบการใช้งานจริง มากกว่าจะเป็นการนำไปใช้งานในเชิงทฤษฎี

## หลักการสำคัญของการส่งต่ออีเมล: รากฐานสู่ความเป็นเลิศ {#forward-emails-core-principles-a-foundation-for-excellence}

อีเมลส่งต่อได้รับการออกแบบตามหลักการสำคัญชุดหนึ่งที่เป็นแนวทางในการตัดสินใจพัฒนาทั้งหมดของเรา หลักการเหล่านี้มีรายละเอียดอยู่ใน [เว็บไซต์](/blog/docs/best-quantum-safe-encrypted-email-service#principles) ของเรา เพื่อให้แน่ใจว่าบริการของเรายังคงเป็นมิตรต่อนักพัฒนา ปลอดภัย และให้ความสำคัญกับความเป็นส่วนตัวของผู้ใช้

### เป็นมิตรกับนักพัฒนาเสมอ เน้นความปลอดภัย และโปร่งใส {#always-developer-friendly-security-focused-and-transparent}

หลักการสำคัญอันดับแรกของเราคือการสร้างซอฟต์แวร์ที่เป็นมิตรกับนักพัฒนาโดยยังคงรักษาความปลอดภัยและความเป็นส่วนตัวตามมาตรฐานสูงสุด เราเชื่อว่าความเป็นเลิศทางเทคนิคไม่ควรแลกมาด้วยการใช้งานที่คุ้มค่า และความโปร่งใสจะสร้างความไว้วางใจให้กับชุมชนของเรา

หลักการนี้แสดงอยู่ในเอกสารประกอบโดยละเอียดของเรา ข้อความแสดงข้อผิดพลาดที่ชัดเจน และการสื่อสารแบบเปิดเกี่ยวกับทั้งความสำเร็จและความท้าทาย ด้วยการทำให้ฐานโค้ดทั้งหมดของเราเป็นโอเพนซอร์ส เราเชิญชวนให้มีการตรวจสอบและร่วมมือกัน ทำให้ซอฟต์แวร์ของเราและระบบนิเวศน์ที่กว้างขึ้นแข็งแกร่งขึ้น

### การยึดมั่นในหลักการพัฒนาซอฟต์แวร์ที่ได้รับการพิสูจน์แล้ว {#adherence-to-time-tested-software-development-principles}

เราปฏิบัติตามหลักการพัฒนาซอฟต์แวร์หลายประการที่ได้รับการพิสูจน์คุณค่ามานานหลายทศวรรษ:

* **[MVC](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller)**: การแยกข้อกังวลผ่านรูปแบบ Model-View-Controller
* **[ปรัชญายูนิกซ์](https://en.wikipedia.org/wiki/Unix_philosophy)**: การสร้างส่วนประกอบแบบโมดูลาร์ที่ทำหน้าที่เดียวได้ดี
* **[KISS](https://en.wikipedia.org/wiki/KISS_principle)**: การรักษาความเรียบง่ายและตรงไปตรงมา
* **[DRY](https://en.wikipedia.org/wiki/Don%27t_repeat_yourself)**: อย่าทำซ้ำ ส่งเสริมการนำโค้ดกลับมาใช้ใหม่
* **[YAGNI](https://en.wikipedia.org/wiki/You_aren%27t_gonna_need_it)**: คุณไม่จำเป็นต้องใช้มัน หลีกเลี่ยงการเพิ่มประสิทธิภาพก่อนกำหนด
* **[ปัจจัยสิบสอง](https://12factor.net/)**: ปฏิบัติตามแนวทางปฏิบัติที่ดีที่สุดสำหรับการสร้างแอปพลิเคชันที่ทันสมัยและปรับขนาดได้
* **[มีดโกนของอ็อกแคม](https://en.wikipedia.org/wiki/Occam%27s_razor)**: การเลือกโซลูชันที่ง่ายที่สุดที่ตรงตามข้อกำหนด
* **[การใช้ Dogfood](https://en.wikipedia.org/wiki/Eating_your_own_dog_food)**: การใช้ผลิตภัณฑ์ของเราเองอย่างกว้างขวาง

หลักการเหล่านี้ไม่ใช่แค่แนวคิดเชิงทฤษฎีเท่านั้น แต่ยังฝังแน่นอยู่ในแนวทางการพัฒนาของเราในแต่ละวันด้วย ตัวอย่างเช่น การยึดมั่นในปรัชญา Unix ของเรานั้นเห็นได้ชัดจากวิธีการที่เราสร้างโครงสร้างแพ็คเกจ npm ของเรา: โมดูลขนาดเล็กที่เน้นเฉพาะจุดซึ่งสามารถประกอบเข้าด้วยกันเพื่อแก้ปัญหาที่ซับซ้อนได้

### มุ่งเป้าไปที่นักพัฒนาที่ไม่ค่อยเก่งแต่ใช้ Bootstrapped {#targeting-the-scrappy-bootstrapped-developer}

เรามุ่งเป้าไปที่นักพัฒนาที่ขาดความคิดสร้างสรรค์ พัฒนาตัวเอง และ [ราเมนทำกำไร](https://www.paulgraham.com/ramenprofitable.html) โดยเฉพาะ การมุ่งเน้นนี้กำหนดทุกอย่างตั้งแต่รูปแบบการกำหนดราคาไปจนถึงการตัดสินใจทางเทคนิคของเรา เราเข้าใจความท้าทายในการสร้างผลิตภัณฑ์ด้วยทรัพยากรที่จำกัด เพราะเราเคยผ่านประสบการณ์ตรงมาแล้ว

หลักการนี้มีความสำคัญอย่างยิ่งต่อแนวทางของเราในการเข้าถึงโอเพ่นซอร์ส เราสร้างและดูแลแพ็คเกจที่แก้ไขปัญหาจริงสำหรับนักพัฒนาที่ไม่มีงบประมาณขององค์กร ทำให้ทุกคนสามารถเข้าถึงเครื่องมืออันทรงพลังได้โดยไม่คำนึงถึงทรัพยากรของพวกเขา

### หลักการในการปฏิบัติ: ฐานรหัสการส่งต่ออีเมล {#principles-in-practice-the-forward-email-codebase}

หลักการเหล่านี้สามารถมองเห็นได้ชัดเจนในฐานโค้ด Forward Email ไฟล์ package.json ของเราเผยให้เห็นการเลือกการอ้างอิงที่รอบคอบ โดยแต่ละส่วนได้รับการเลือกให้สอดคล้องกับค่านิยมหลักของเรา:

* แพ็กเกจที่เน้นความปลอดภัย เช่น `mailauth` สำหรับการตรวจสอบสิทธิ์อีเมล
* เครื่องมือที่ใช้งานง่ายสำหรับนักพัฒนา เช่น `preview-email` เพื่อการดีบักที่ง่ายขึ้น
* ส่วนประกอบแบบโมดูลาร์ เช่น ยูทิลิตี้ `p-*` ต่างๆ จาก Sindre Sorhus

ด้วยการปฏิบัติตามหลักการเหล่านี้อย่างสม่ำเสมอตลอดเวลา เราจึงได้สร้างบริการที่นักพัฒนาไว้วางใจได้ในโครงสร้างพื้นฐานอีเมลของตนเอง ซึ่งปลอดภัย เชื่อถือได้ และสอดคล้องกับค่านิยมของชุมชนโอเพ่นซอร์ส

### ความเป็นส่วนตัวโดยการออกแบบ {#privacy-by-design}

ความเป็นส่วนตัวไม่ใช่สิ่งที่คิดขึ้นภายหลังหรือเป็นคุณลักษณะทางการตลาดสำหรับการส่งต่ออีเมล แต่เป็นหลักการการออกแบบพื้นฐานที่แจ้งถึงทุกแง่มุมของบริการและโค้ดของเรา:

* **การเข้ารหัสแบบไม่ต้องเข้าถึงข้อมูล**: เราได้นำระบบที่ทำให้เราไม่สามารถอ่านอีเมลของผู้ใช้ได้ในทางเทคนิค
* **การรวบรวมข้อมูลขั้นต่ำ**: เราเก็บรวบรวมเฉพาะข้อมูลที่จำเป็นในการให้บริการเท่านั้น ไม่มีอะไรเพิ่มเติม
* **นโยบายที่โปร่งใส**: นโยบายความเป็นส่วนตัวของเราเขียนด้วยภาษาที่ชัดเจนและเข้าใจง่าย โดยไม่มีศัพท์เฉพาะทางกฎหมาย
* **การตรวจสอบซอร์สโค้ดแบบโอเพนซอร์ส**: ฐานโค้ดซอร์สแบบโอเพนซอร์สของเราช่วยให้นักวิจัยด้านความปลอดภัยสามารถตรวจสอบคำกล่าวอ้างเรื่องความเป็นส่วนตัวของเราได้

ความมุ่งมั่นนี้ขยายไปถึงแพ็คเกจโอเพ่นซอร์สของเรา ซึ่งได้รับการออกแบบด้วยหลักปฏิบัติที่ดีที่สุดในด้านความปลอดภัยและความเป็นส่วนตัวที่สร้างขึ้นมาตั้งแต่พื้นฐาน

### โอเพ่นซอร์สที่ยั่งยืน {#sustainable-open-source}

เราเชื่อว่าซอฟต์แวร์โอเพ่นซอร์สต้องมีรูปแบบที่ยั่งยืนเพื่อเติบโตในระยะยาว แนวทางของเรามีดังนี้:

* **การสนับสนุนเชิงพาณิชย์**: นำเสนอการสนับสนุนและบริการระดับพรีเมียมสำหรับเครื่องมือโอเพ่นซอร์สของเรา
* **การออกใบอนุญาตแบบสมดุล**: การใช้ใบอนุญาตที่ปกป้องทั้งเสรีภาพของผู้ใช้และความยั่งยืนของโครงการ
* **การมีส่วนร่วมของชุมชน**: มีส่วนร่วมอย่างแข็งขันกับผู้มีส่วนสนับสนุนเพื่อสร้างชุมชนที่ให้การสนับสนุน
* **แผนงานที่โปร่งใส**: การแบ่งปันแผนการพัฒนาของเราเพื่อให้ผู้ใช้สามารถวางแผนได้อย่างเหมาะสม

ด้วยการมุ่งเน้นที่ความยั่งยืน เราจึงมั่นใจได้ว่าการสนับสนุนโอเพนซอร์สของเราจะสามารถเติบโตและปรับปรุงอย่างต่อเนื่องแทนที่จะถูกละเลย

## ตัวเลขไม่โกหก: สถิติการดาวน์โหลด npm ที่น่าตกตะลึงของเรา {#the-numbers-dont-lie-our-staggering-npm-download-statistics}

เมื่อเราพูดถึงผลกระทบของซอฟต์แวร์โอเพ่นซอร์ส สถิติการดาวน์โหลดจะให้การวัดผลการใช้งานและความไว้วางใจที่เป็นรูปธรรม แพ็คเกจจำนวนมากที่เราช่วยดูแลนั้นมีขนาดที่โครงการโอเพ่นซอร์สเพียงไม่กี่โครงการเท่านั้นที่ทำได้ โดยมียอดดาวน์โหลดรวมกันเป็นพันล้านครั้ง

![แพ็กเกจ npm ยอดนิยมตามการดาวน์โหลด](/img/art/top_packages_bar_chart.svg)

> \[!IMPORTANT]
> While we're proud to help maintain several highly-downloaded packages in the JavaScript ecosystem, we want to acknowledge that many of these packages were originally created by other talented developers. Packages like superagent and supertest were originally created by TJ Holowaychuk, whose prolific contributions to open source have been instrumental in shaping the Node.js ecosystem.

### มุมมองภาพรวมของผลกระทบของเรา {#a-birds-eye-view-of-our-impact}

ในช่วงระยะเวลาเพียงสองเดือนตั้งแต่เดือนกุมภาพันธ์ถึงมีนาคม พ.ศ. 2568 แพ็คเกจยอดนิยมที่เรามีส่วนสนับสนุนและช่วยรักษาจำนวนการดาวน์โหลดที่น่าทึ่งที่บันทึกไว้:

* **[ซูเปอร์เอเจนต์](https://www.npmjs.com/package/superagent)**: 84,575,829 ดาวน์โหลด\[^7] (สร้างโดย TJ Holowaychuk)
* **[ทดสอบสุดยอด](https://www.npmjs.com/package/supertest)**: 76,432,591 ดาวน์โหลด\[^8] (สร้างโดย TJ Holowaychuk)
* **[อีกด้วย](https://www.npmjs.com/package/koa)**: 28,539,295 ดาวน์โหลด\[^34] (สร้างโดย TJ Holowaychuk)
* **[@koa/เราเตอร์](https://www.npmjs.com/package/@koa/router)**: 11,007,327 ดาวน์โหลด\[^35]
* **[โคอา-เราเตอร์](https://www.npmjs.com/package/koa-router)**: 3,498,918 ดาวน์โหลด\[^36]
* **[url-regex](https://www.npmjs.com/package/url-regex)**: 2,819,520 ดาวน์โหลด\[^37]
* **[ดูตัวอย่างอีเมล์](https://www.npmjs.com/package/preview-email)**: 2,500,000 ดาวน์โหลด\[^9]
* **[ห้องโดยสาร](https://www.npmjs.com/package/cabin)**: 1,800,000 ดาวน์โหลด\[^10]
* **[@breejs/ภายหลัง](https://www.npmjs.com/package/@breejs/later)**: 1,709,938 ดาวน์โหลด\[^38]
* **[เทมเพลตอีเมล](https://www.npmjs.com/package/email-templates)**: 1,128,139 ดาวน์โหลด\[^39]
* **[รับเส้นทาง](https://www.npmjs.com/package/get-paths)**: 1,124,686 ดาวน์โหลด\[^40]
* **[url-regex-ปลอดภัย](https://www.npmjs.com/package/url-regex-safe)**: 1,200,000 ดาวน์โหลด\[^11]
* **[การแยกวิเคราะห์ตัวแปร dotenv](https://www.npmjs.com/package/dotenv-parse-variables)**: 894,666 ดาวน์โหลด\[^41]
* **[@โคอา/มูลเตอร์](https://www.npmjs.com/package/@koa/multer)**: ดาวน์โหลด 839,585 ครั้ง\[^42]
* **[เครื่องสแกนสแปม](https://www.npmjs.com/package/spamscanner)**: ดาวน์โหลด 145,000 ครั้ง\[^12]
* **[บรี](https://www.npmjs.com/package/bree)**: ดาวน์โหลด 24,270 ครั้ง\[^30]

> \[!NOTE]
> Several other packages we help maintain but didn't create have even higher download counts, including `form-data` (738M+ downloads), `toidentifier` (309M+ downloads), `stackframe` (116M+ downloads), and `error-stack-parser` (113M+ downloads). We're honored to contribute to these packages while respecting the work of their original authors.

ตัวเลขเหล่านี้ไม่เพียงแต่น่าประทับใจเท่านั้น แต่ยังแสดงถึงนักพัฒนาซอฟต์แวร์ตัวจริงที่แก้ไขปัญหาจริงด้วยโค้ดที่เราช่วยบำรุงรักษา การดาวน์โหลดแต่ละครั้งคือตัวอย่างที่แพ็คเกจเหล่านี้ช่วยให้ใครบางคนสร้างสิ่งที่มีความหมายได้ ไม่ว่าจะเป็นโปรเจ็กต์สำหรับงานอดิเรกหรือแอปพลิเคชันระดับองค์กรที่มีผู้ใช้งานนับล้านคน

![การกระจายหมวดหมู่แพ็คเกจ](/img/art/category_pie_chart.svg)

### ผลกระทบรายวันในระดับขนาดใหญ่ {#daily-impact-at-scale}

รูปแบบการดาวน์โหลดรายวันเผยให้เห็นการใช้งานในปริมาณมากอย่างสม่ำเสมอ โดยมียอดดาวน์โหลดสูงสุดที่หลายล้านครั้งต่อวัน ความสม่ำเสมอนี้บ่งบอกถึงความเสถียรและความน่าเชื่อถือของแพ็คเกจเหล่านี้ นักพัฒนาไม่ได้แค่ทดลองใช้เท่านั้น แต่ยังรวมแพ็คเกจเหล่านี้เข้ากับเวิร์กโฟลว์หลักและพึ่งพาแพ็คเกจเหล่านี้ทุกวันอีกด้วย

รูปแบบการดาวน์โหลดรายสัปดาห์แสดงให้เห็นตัวเลขที่น่าประทับใจยิ่งขึ้น โดยอยู่ที่ประมาณหลายสิบล้านครั้งต่อสัปดาห์อย่างสม่ำเสมอ นับเป็นการก้าวกระโดดครั้งใหญ่ในระบบนิเวศ JavaScript โดยที่แพ็คเกจเหล่านี้ทำงานในสภาพแวดล้อมการผลิตทั่วโลก

### เหนือกว่าตัวเลขดิบ {#beyond-the-raw-numbers}

แม้ว่าสถิติการดาวน์โหลดจะน่าประทับใจในตัวของมันเอง แต่ก็บอกเล่าเรื่องราวที่ลึกซึ้งกว่านั้นเกี่ยวกับความไว้วางใจที่ชุมชนมีให้กับแพ็คเกจเหล่านี้ การรักษาแพ็คเกจในระดับนี้ต้องอาศัยความมุ่งมั่นอย่างไม่ลดละในการ:

* **ความเข้ากันได้แบบย้อนกลับ**: การเปลี่ยนแปลงจะต้องได้รับการพิจารณาอย่างรอบคอบเพื่อหลีกเลี่ยงการทำลายการใช้งานที่มีอยู่
* **ความปลอดภัย**: เนื่องจากมีแอปพลิเคชันหลายล้านตัวที่ต้องพึ่งพาแพ็คเกจเหล่านี้ ช่องโหว่ด้านความปลอดภัยอาจส่งผลกระทบในวงกว้าง
* **ประสิทธิภาพ**: ในระดับนี้ การปรับปรุงประสิทธิภาพเพียงเล็กน้อยก็สามารถให้ผลประโยชน์โดยรวมที่สำคัญได้
* **การจัดทำเอกสาร**: การจัดทำเอกสารที่ชัดเจนและครอบคลุมถือเป็นสิ่งสำคัญสำหรับแพ็คเกจที่นักพัฒนาทุกระดับประสบการณ์ใช้

การเติบโตที่สม่ำเสมอในจำนวนการดาวน์โหลดในช่วงเวลาต่างๆ สะท้อนให้เห็นถึงความสำเร็จในการตอบสนองความมุ่งมั่นเหล่านี้ การสร้างความไว้วางใจกับชุมชนนักพัฒนาผ่านแพ็คเกจที่เชื่อถือได้และได้รับการบำรุงรักษาอย่างดี

## การสนับสนุนระบบนิเวศ: การสนับสนุนโอเพนซอร์สของเรา {#supporting-the-ecosystem-our-open-source-sponsorships}

> \[!TIP]
> Open source sustainability isn't just about contributing code—it's also about supporting the developers who maintain critical infrastructure.

นอกเหนือจากการมีส่วนสนับสนุนโดยตรงต่อระบบนิเวศ JavaScript แล้ว เรายังภูมิใจที่จะสนับสนุนผู้สนับสนุน Node.js ที่มีชื่อเสียงซึ่งผลงานของพวกเขาเป็นรากฐานของแอปพลิเคชันสมัยใหม่มากมาย การสนับสนุนของเรามีดังนี้:

### Andris Reinman: ผู้บุกเบิกโครงสร้างพื้นฐานอีเมล {#andris-reinman-email-infrastructure-pioneer}

[แอนดริส เรนแมน](https://github.com/andris9) คือผู้สร้าง [โนเดเมลเลอร์](https://github.com/nodemailer/nodemailer) ซึ่งเป็นไลบรารีการส่งอีเมลยอดนิยมสำหรับ Node.js โดยมียอดดาวน์โหลดมากกว่า 14 ล้านครั้งต่อสัปดาห์\[^15] ผลงานของเขายังขยายไปยังส่วนประกอบโครงสร้างพื้นฐานอีเมลที่สำคัญอื่นๆ เช่น [เซิร์ฟเวอร์ SMTP](https://github.com/nodemailer/smtp-server), [เมลพาร์เซอร์](https://github.com/nodemailer/mailparser) และ [ไวลด์ดั๊ก](https://github.com/nodemailer/wildduck)

การสนับสนุนของเราช่วยให้แน่ใจถึงการบำรุงรักษาอย่างต่อเนื่องและการพัฒนาเครื่องมือที่จำเป็นเหล่านี้ซึ่งขับเคลื่อนการสื่อสารทางอีเมลสำหรับแอปพลิเคชัน Node.js มากมาย รวมถึงบริการ Forward Email ของเราเอง

### Sindre Sorhus: ผู้เชี่ยวชาญด้านแพ็คเกจยูทิลิตี้ {#sindre-sorhus-utility-package-mastermind}

[ซินเดร โซรุส](https://github.com/sindresorhus) เป็นหนึ่งในผู้สร้างโอเพนซอร์สที่มีผลงานมากที่สุดในระบบนิเวศ JavaScript โดยมีแพ็กเกจ npm มากกว่า 1,000 รายการในชื่อของเขา ยูทิลิตี้ของเขาอย่าง [แผนที่พี](https://github.com/sindresorhus/p-map), [พี-ลองใหม่](https://github.com/sindresorhus/p-retry) และ [ไอเอสสตรีม](https://github.com/sindresorhus/is-stream) ถือเป็นองค์ประกอบพื้นฐานที่ใช้ทั่วทั้งระบบนิเวศ Node.js

โดยการสนับสนุนงานของ Sindre เราช่วยสนับสนุนการพัฒนายูทิลิตี้ที่สำคัญเหล่านี้ซึ่งทำให้การพัฒนา JavaScript มีประสิทธิภาพและเชื่อถือได้มากขึ้น

การสนับสนุนเหล่านี้สะท้อนให้เห็นถึงความมุ่งมั่นของเราที่มีต่อระบบนิเวศโอเพ่นซอร์สที่กว้างขึ้น เราตระหนักดีว่าความสำเร็จของเรานั้นสร้างขึ้นจากรากฐานที่วางไว้โดยผู้สนับสนุนเหล่านี้และผู้สนับสนุนรายอื่นๆ และเรามุ่งมั่นที่จะสร้างความยั่งยืนให้กับระบบนิเวศทั้งหมด

## การเปิดเผยช่องโหว่ด้านความปลอดภัยในระบบนิเวศ JavaScript {#uncovering-security-vulnerabilities-in-the-javascript-ecosystem}

ความมุ่งมั่นของเราที่มีต่อโอเพ่นซอร์สขยายออกไปไกลกว่าการพัฒนาฟีเจอร์ต่างๆ ไปจนถึงการระบุและแก้ไขช่องโหว่ด้านความปลอดภัยที่อาจส่งผลกระทบต่อนักพัฒนาหลายล้านคน การมีส่วนสนับสนุนที่สำคัญที่สุดบางประการของเราต่อระบบนิเวศ JavaScript อยู่ในขอบเขตของความปลอดภัย

### การช่วยเหลือ Koa-Router {#the-koa-router-rescue}

ในเดือนกุมภาพันธ์ 2019 นิคพบปัญหาสำคัญในการบำรุงรักษาแพ็กเกจ koa-router ยอดนิยม ขณะนั้นเอง [รายงานบน Hacker News](https://news.ycombinator.com/item?id=19156707) แพ็กเกจดังกล่าวถูกยกเลิกโดยผู้ดูแลระบบเดิม ทำให้ช่องโหว่ด้านความปลอดภัยไม่ได้รับการแก้ไข และชุมชนไม่ได้รับการอัปเดต

> \[!WARNING]
> Abandoned packages with security vulnerabilities pose significant risks to the entire ecosystem, especially when they're downloaded millions of times weekly.

นิคจึงได้สร้าง [@koa/เราเตอร์](https://github.com/koajs/router) ขึ้นมาเพื่อแจ้งเตือนสถานการณ์ให้ชุมชนทราบ เขาดูแลแพ็กเกจสำคัญนี้มาโดยตลอด เพื่อให้แน่ใจว่าผู้ใช้ Koa จะได้รับโซลูชันการกำหนดเส้นทางที่ปลอดภัยและได้รับการดูแลอย่างดี

### การแก้ไขช่องโหว่ ReDoS {#addressing-redos-vulnerabilities}

ในปี 2020 นิคได้ระบุและแก้ไขช่องโหว่ [การปฏิเสธการให้บริการของนิพจน์ทั่วไป (ReDoS)](https://en.wikipedia.org/wiki/ReDoS) ที่สำคัญในแพ็กเกจ `url-regex` ที่ใช้กันอย่างแพร่หลาย ช่องโหว่นี้ ([SNYK-JS-URLREGEX-569472](https://security.snyk.io/vuln/SNYK-JS-URLREGEX-569472)) อาจทำให้ผู้โจมตีสามารถทำให้เกิดภาวะปฏิเสธการให้บริการ (Denial of Service) ได้ด้วยการให้อินพุตที่สร้างขึ้นเป็นพิเศษ ซึ่งทำให้เกิดการย้อนกลับอย่างร้ายแรงในนิพจน์ทั่วไป

แทนที่จะแก้ไขแพ็กเกจเดิมที่มีอยู่ นิคได้สร้าง [`url-regex-safe`](https://github.com/spamscanner/url-regex-safe) ขึ้นมา ซึ่งเป็นเวอร์ชันที่เขียนขึ้นใหม่ทั้งหมดเพื่อแก้ไขช่องโหว่นี้ โดยยังคงความเข้ากันได้กับ API เดิมไว้ เขายังเผยแพร่ [โพสต์บล็อกที่ครอบคลุม](/blog/docs/url-regex-javascript-node-js) ที่อธิบายช่องโหว่และวิธีการแก้ไขอีกด้วย

งานนี้แสดงให้เห็นแนวทางของเราต่อความปลอดภัย ไม่ใช่แค่แก้ไขปัญหาเท่านั้น แต่ยังรวมถึงการสร้างความรู้แก่ชุมชนและเสนอทางเลือกที่มั่นคงเพื่อป้องกันไม่ให้เกิดปัญหาที่คล้ายคลึงกันในอนาคต

### สนับสนุน Node.js และความปลอดภัยของ Chromium {#advocating-for-nodejs-and-chromium-security}

นิคยังมีบทบาทอย่างแข็งขันในการสนับสนุนการปรับปรุงความปลอดภัยในระบบนิเวศโดยรวม ในเดือนสิงหาคม 2020 เขาพบปัญหาความปลอดภัยที่สำคัญใน Node.js ที่เกี่ยวข้องกับการจัดการส่วนหัว HTTP ซึ่งมีรายงานใน [การลงทะเบียน](https://www.theregister.com/2020/08/18/nodejs_chromium_patch/)

ปัญหาที่เกิดขึ้นนี้ซึ่งเกิดจากแพทช์ใน Chromium อาจทำให้ผู้โจมตีสามารถข้ามมาตรการรักษาความปลอดภัยได้ การสนับสนุนของ Nick ช่วยให้มั่นใจได้ว่าปัญหาได้รับการแก้ไขอย่างทันท่วงที ช่วยปกป้องแอปพลิเคชัน Node.js หลายล้านรายการจากการถูกโจมตี

### การรักษาความปลอดภัยโครงสร้างพื้นฐาน npm {#securing-npm-infrastructure}

ปลายเดือนเดียวกันนั้นเอง นิคได้ระบุถึงปัญหาความปลอดภัยที่สำคัญอีกประการหนึ่ง คราวนี้เกิดขึ้นในโครงสร้างพื้นฐานอีเมลของ npm ตามรายงานใน [การลงทะเบียน](https://www.theregister.com/2020/08/25/nodejs_dmarc_phishing/) npm ไม่ได้นำโปรโตคอลการตรวจสอบสิทธิ์อีเมล DMARC, SPF และ DKIM มาใช้อย่างถูกต้อง ซึ่งอาจทำให้ผู้โจมตีสามารถส่งอีเมลฟิชชิ่งที่ดูเหมือนว่ามาจาก npm ได้

รายงานของ Nick นำไปสู่การปรับปรุงการรักษาความปลอดภัยของอีเมลของ npm ช่วยปกป้องนักพัฒนาหลายล้านคนที่ใช้ npm ในการจัดการแพ็คเกจจากการโจมตีฟิชชิ่งที่อาจเกิดขึ้น

## การสนับสนุนของเราต่อระบบนิเวศอีเมลส่งต่อ {#our-contributions-to-the-forward-email-ecosystem-1}

Forward Email ถูกสร้างขึ้นจากโครงการโอเพนซอร์สที่สำคัญหลายโครงการ เช่น Nodemailer, WildDuck และ mailauth ทีมงานของเราได้มีส่วนสนับสนุนโครงการเหล่านี้อย่างมาก โดยช่วยระบุและแก้ไขปัญหาเชิงลึกที่ส่งผลต่อการจัดส่งและความปลอดภัยของอีเมล

### การปรับปรุงฟังก์ชันหลักของ Nodemailer {#enhancing-nodemailers-core-functionality}

[โนเดเมลเลอร์](https://github.com/nodemailer/nodemailer) เป็นแกนหลักของการส่งอีเมลใน Node.js และการสนับสนุนของเราช่วยให้มีความแข็งแกร่งยิ่งขึ้น:

* **การปรับปรุงเซิร์ฟเวอร์ SMTP**: เราได้แก้ไขข้อบกพร่องของการแยกวิเคราะห์ ปัญหาการจัดการสตรีม และปัญหาการกำหนดค่า TLS ในส่วนประกอบเซิร์ฟเวอร์ SMTP\[^16]\[^17]
* **การปรับปรุงตัวแยกวิเคราะห์อีเมล**: เราได้แก้ไขข้อผิดพลาดในการถอดรหัสลำดับอักขระและแก้ไขปัญหาตัวแยกวิเคราะห์ที่อาจทำให้การประมวลผลอีเมลล้มเหลว\[^18]\[^19]

การสนับสนุนเหล่านี้ช่วยให้แน่ใจว่า Nodemailer ยังคงเป็นรากฐานที่เชื่อถือได้สำหรับการประมวลผลอีเมลในแอปพลิเคชัน Node.js รวมถึงการส่งต่ออีเมล

### การพัฒนาการตรวจสอบสิทธิ์อีเมลด้วย Mailauth {#advancing-email-authentication-with-mailauth}

[ไมลอธ](https://github.com/postalsys/mailauth) มอบฟังก์ชันการตรวจสอบสิทธิ์อีเมลที่สำคัญ และการสนับสนุนของเราได้ปรับปรุงความสามารถของฟังก์ชันดังกล่าวอย่างมีนัยสำคัญ:

* **การปรับปรุงการตรวจสอบ DKIM**: เราค้นพบและรายงานว่า X/Twitter มีปัญหาแคช DNS ซึ่งทำให้ DKIM ล้มเหลวสำหรับข้อความขาออก และรายงานเรื่องนี้บน Hacker One\[^20]
* **การปรับปรุง DMARC และ ARC**: เราได้แก้ไขปัญหาเกี่ยวกับการตรวจสอบ DMARC และ ARC ที่อาจทำให้ผลลัพธ์การตรวจสอบสิทธิ์ไม่ถูกต้อง\[^21]\[^22]
* **การปรับปรุงประสิทธิภาพ**: เราได้มีส่วนสนับสนุนการปรับปรุงประสิทธิภาพที่ปรับปรุงประสิทธิภาพของกระบวนการตรวจสอบสิทธิ์อีเมล\[^23]\[^24]\[^25]\[^26]

การปรับปรุงเหล่านี้ช่วยให้มั่นใจได้ว่าการตรวจสอบอีเมลนั้นถูกต้องและเชื่อถือได้ ช่วยปกป้องผู้ใช้จากการโจมตีแบบฟิชชิ่งและการปลอมแปลง

### การปรับปรุงประสิทธิภาพการทำงานที่สำคัญ {#key-upptime-enhancements}

การสนับสนุนของเราต่อ Upptime ประกอบด้วย:

* **การตรวจสอบใบรับรอง SSL**: เราได้เพิ่มฟังก์ชันในการตรวจสอบการหมดอายุของใบรับรอง SSL เพื่อป้องกันการหยุดทำงานโดยไม่คาดคิดเนื่องจากใบรับรองหมดอายุ\[^27].
* **การรองรับหมายเลข SMS หลายหมายเลข**: เราได้นำการสนับสนุนสำหรับการแจ้งเตือนสมาชิกในทีมหลายคนผ่าน SMS เมื่อเกิดเหตุการณ์ขึ้น เพื่อปรับปรุงเวลาตอบสนอง\[^28].
* **การแก้ไขการตรวจสอบ IPv6**: เราได้แก้ไขปัญหาในการตรวจสอบการเชื่อมต่อ IPv6 เพื่อให้แน่ใจว่าการตรวจสอบมีความแม่นยำมากขึ้นในสภาพแวดล้อมเครือข่ายสมัยใหม่\[^29].
* **การรองรับโหมดมืด/สว่าง**: เราได้เพิ่มการสนับสนุนธีมเพื่อปรับปรุงประสบการณ์ผู้ใช้ของหน้าสถานะ\[^31].
* **การรองรับ TCP-Ping ที่ดีขึ้น**: เราได้ปรับปรุงฟังก์ชันการ ping ของ TCP เพื่อให้การทดสอบการเชื่อมต่อมีความน่าเชื่อถือมากขึ้น\[^32].

การปรับปรุงเหล่านี้ไม่เพียงแต่เป็นประโยชน์ต่อการตรวจสอบสถานะของ Forward Email เท่านั้น แต่ยังพร้อมใช้งานสำหรับชุมชนผู้ใช้ Upptime ทั้งหมดอีกด้วย ซึ่งแสดงให้เห็นถึงความมุ่งมั่นของเราในการปรับปรุงเครื่องมือที่เราพึ่งพา

## กาวที่ยึดทุกอย่างเข้าด้วยกัน: รหัสที่กำหนดเองตามขนาด {#the-glue-that-holds-it-all-together-custom-code-at-scale}

แม้ว่าแพ็กเกจ npm และการสนับสนุนโครงการที่มีอยู่ของเราจะมีความสำคัญ แต่โค้ดแบบกำหนดเองที่ผสานรวมส่วนประกอบเหล่านี้เข้าด้วยกันคือสิ่งที่แสดงให้เห็นถึงความเชี่ยวชาญทางเทคนิคของเราอย่างแท้จริง ฐานโค้ด Forward Email แสดงถึงความพยายามในการพัฒนาตลอดทศวรรษ ย้อนกลับไปในปี 2017 เมื่อโครงการเริ่มต้นในชื่อ [การส่งต่ออีเมล์ฟรี](https://github.com/forwardemail/free-email-forwarding) ก่อนที่จะถูกรวมเข้าเป็น monorepo

### ความพยายามพัฒนาครั้งใหญ่ {#a-massive-development-effort}

ขนาดของโค้ดการรวมแบบกำหนดเองนี้ถือว่าน่าประทับใจ:

* **การมีส่วนร่วมทั้งหมด**: มากกว่า 3,217 คอมมิต
* **ขนาดฐานโค้ด**: โค้ดมากกว่า 421,545 บรรทัด ในไฟล์ JavaScript, Pug, CSS และ JSON\[^33]

ซึ่งเป็นตัวแทนของการทำงานพัฒนา เซสชันแก้ไขข้อบกพร่อง และการปรับปรุงประสิทธิภาพการทำงานหลายพันชั่วโมง นับเป็น "สูตรลับ" ที่ช่วยเปลี่ยนแพ็คเกจแต่ละรายการให้กลายเป็นบริการที่เชื่อมโยงกันและเชื่อถือได้ซึ่งลูกค้าหลายพันรายใช้เป็นประจำทุกวัน

### การรวมการอ้างอิงหลัก {#core-dependencies-integration}

ฐานโค้ดการส่งต่ออีเมลจะรวมสิ่งที่ต้องพึ่งพาต่างๆ มากมายเข้าเป็นหนึ่งเดียวกันอย่างราบรื่น:

* **การประมวลผลอีเมล**: ผสานรวม Nodemailer สำหรับการส่ง, เซิร์ฟเวอร์ SMTP สำหรับการรับ และ Mailparser สำหรับการแยกวิเคราะห์
* **การตรวจสอบสิทธิ์**: ใช้ Mailauth สำหรับการตรวจสอบ DKIM, SPF, DMARC และ ARC
* **การแก้ไข DNS**: ใช้ประโยชน์จาก Tangerine สำหรับ DNS-over-HTTPS พร้อมการแคชทั่วโลก
* **การเชื่อมต่อ MX**: ใช้ mx-connect ร่วมกับ Tangerine เพื่อการเชื่อมต่อเซิร์ฟเวอร์อีเมลที่เชื่อถือได้
* **การจัดตารางงาน**: ใช้ Bree สำหรับการประมวลผลงานเบื้องหลังที่เชื่อถือได้กับเธรดเวิร์กเกอร์
* **การสร้างเทมเพลต**: ใช้เทมเพลตอีเมลเพื่อนำสไตล์ชีตจากเว็บไซต์กลับมาใช้ใหม่ในการสื่อสารกับลูกค้า
* **การจัดเก็บอีเมล**: ใช้กล่องจดหมาย SQLite ที่เข้ารหัสแยกกันโดยใช้ better-sqlite3-multiple-ciphers พร้อมการเข้ารหัส ChaCha20-Poly1305 เพื่อความเป็นส่วนตัวที่ปลอดภัยแบบควอนตัม ช่วยให้มั่นใจได้ถึงการแยกผู้ใช้ออกจากกันอย่างสมบูรณ์ และมีเพียงผู้ใช้เท่านั้นที่สามารถเข้าถึงกล่องจดหมายของตนได้

การบูรณาการแต่ละครั้งเหล่านี้ต้องได้รับการพิจารณาอย่างรอบคอบถึงกรณีขอบ ผลกระทบต่อประสิทธิภาพ และข้อกังวลด้านความปลอดภัย ผลลัพธ์ที่ได้คือระบบที่แข็งแกร่งซึ่งจัดการธุรกรรมอีเมลนับล้านรายการได้อย่างน่าเชื่อถือ การใช้งาน SQLite ของเรายังใช้ประโยชน์จาก msgpackr สำหรับการสร้างอนุกรมไบนารีที่มีประสิทธิภาพและ WebSockets (ผ่าน ws) สำหรับการอัปเดตสถานะแบบเรียลไทม์ทั่วทั้งโครงสร้างพื้นฐานของเรา

### โครงสร้างพื้นฐาน DNS พร้อม Tangerine และ mx-connect {#dns-infrastructure-with-tangerine-and-mx-connect}

ส่วนประกอบที่สำคัญอย่างหนึ่งของโครงสร้างพื้นฐานของ Forward Email คือระบบการแก้ไข DNS ของเรา ซึ่งสร้างขึ้นโดยใช้แพ็คเกจหลักสองแพ็คเกจ:

* **[ส้มแมนดาริน](https://github.com/forwardemail/nodejs-dns-over-https-tangerine)**: การใช้งาน DNS-over-HTTPS ของ Node.js ของเราช่วยให้สามารถแทนที่ตัวแก้ไข DNS มาตรฐานได้อย่างง่ายดาย โดยมีการลองใหม่ การหมดเวลา การหมุนเวียนเซิร์ฟเวอร์อัจฉริยะ และการรองรับแคชในตัว

* **[เอ็มเอ็กซ์-คอนเนค](https://github.com/zone-eu/mx-connect)**: แพ็คเกจนี้สร้างการเชื่อมต่อ TCP ไปยังเซิร์ฟเวอร์ MX โดยใช้โดเมนเป้าหมายหรือที่อยู่อีเมล แก้ไขเซิร์ฟเวอร์ MX ที่เหมาะสม และเชื่อมต่อกับเซิร์ฟเวอร์เหล่านั้นตามลำดับความสำคัญ

เราได้บูรณาการ Tangerine เข้ากับ mx-connect ผ่าน [ดึงคำขอ #4](https://github.com/zone-eu/mx-connect/pull/4) เพื่อให้แน่ใจว่าคำขอ DNS ผ่าน HTTP ในระดับแอปพลิเคชันตลอดกระบวนการส่งต่ออีเมล วิธีนี้ช่วยให้สามารถแคช DNS ทั่วโลกได้อย่างครอบคลุม ด้วยความสอดคล้องแบบ 1:1 ในทุกภูมิภาค แอปพลิเคชัน หรือกระบวนการ ซึ่งเป็นสิ่งสำคัญสำหรับการส่งอีเมลที่เชื่อถือได้ในระบบแบบกระจาย

## ผลกระทบต่อองค์กร: จากโอเพ่นซอร์สสู่โซลูชันที่สำคัญยิ่งต่อภารกิจ {#enterprise-impact-from-open-source-to-mission-critical-solutions}

ความสำเร็จของการเดินทางกว่าทศวรรษในการพัฒนาโอเพ่นซอร์สของเรา ทำให้ Forward Email สามารถให้บริการได้ไม่เพียงแต่นักพัฒนารายบุคคลเท่านั้น แต่ยังรวมถึงองค์กรขนาดใหญ่และสถาบันการศึกษาที่เป็นแกนหลักของกระแสโอเพ่นซอร์สอีกด้วย

### กรณีศึกษาเกี่ยวกับโครงสร้างพื้นฐานอีเมลที่สำคัญยิ่งต่อภารกิจ {#case-studies-in-mission-critical-email-infrastructure}

ความมุ่งมั่นของเราในด้านความน่าเชื่อถือ ความเป็นส่วนตัว และหลักการโอเพนซอร์ส ทำให้ Forward Email เป็นตัวเลือกที่เชื่อถือได้สำหรับองค์กรที่มีข้อกำหนดด้านอีเมลที่เข้มงวด:

* **สถาบันการศึกษา**: ตามรายละเอียดใน [กรณีศึกษาการส่งต่ออีเมลของศิษย์เก่า]](https://forwardemail.net/blog/docs/alumni-email-forwarding-university-case-study) มหาวิทยาลัยชั้นนำต่างพึ่งพาโครงสร้างพื้นฐานของเราเพื่อรักษาการเชื่อมต่อตลอดชีวิตกับศิษย์เก่าหลายแสนคนผ่านบริการส่งต่ออีเมลที่เชื่อถือได้

* **โซลูชัน Enterprise Linux**: [กรณีศึกษาเกี่ยวกับอีเมลองค์กรของ Ubuntu ตามมาตรฐาน Canonical](https://forwardemail.net/blog/docs/canonical-ubuntu-email-enterprise-case-study) แสดงให้เห็นว่าแนวทางโอเพ่นซอร์สของเราสอดคล้องกับความต้องการของผู้ให้บริการ Linux ระดับองค์กรอย่างไร โดยมอบความโปร่งใสและการควบคุมที่พวกเขาต้องการ

* **มูลนิธิโอเพ่นซอร์ส**: อาจเป็นการตรวจสอบที่มีประสิทธิผลมากที่สุดโดยความร่วมมือของเรากับมูลนิธิ Linux ตามที่ระบุไว้ใน [กรณีศึกษาเกี่ยวกับอีเมลขององค์กร Linux Foundation](https://forwardemail.net/blog/docs/linux-foundation-email-enterprise-case-study) ซึ่งบริการของเราช่วยสนับสนุนการสื่อสารสำหรับองค์กรที่ดูแลการพัฒนา Linux

แพ็คเกจโอเพ่นซอร์สของเราได้รับการดูแลเป็นอย่างดีมาหลายปีและทำให้เราสามารถสร้างบริการอีเมลที่รองรับชุมชนและองค์กรที่สนับสนุนซอฟต์แวร์โอเพ่นซอร์สได้อย่างสมบูรณ์แบบ เส้นทางครบวงจรนี้ ตั้งแต่การสร้างแพ็คเกจส่วนบุคคลไปจนถึงการสร้างโครงสร้างพื้นฐานอีเมลระดับองค์กรสำหรับผู้นำด้านโอเพ่นซอร์ส ถือเป็นการยืนยันขั้นสุดท้ายของแนวทางการพัฒนาซอฟต์แวร์ของเรา

## ทศวรรษแห่งโอเพนซอร์ส: มองไปข้างหน้า {#a-decade-of-open-source-looking-forward}

เมื่อเรามองย้อนกลับไปถึงการสนับสนุนโอเพนซอร์สในช่วงทศวรรษที่ผ่านมาและมองไปข้างหน้าถึงสิบปีข้างหน้า เราก็รู้สึกขอบคุณชุมชนที่สนับสนุนงานของเรา และรู้สึกตื่นเต้นกับสิ่งที่จะเกิดขึ้นต่อไป

การเดินทางของเราตั้งแต่ผู้จัดทำแพ็คเกจรายบุคคลไปจนถึงผู้ดูแลรักษาโครงสร้างพื้นฐานอีเมลที่ครอบคลุมซึ่งใช้โดยองค์กรใหญ่ๆ และมูลนิธิโอเพ่นซอร์สนั้นน่าทึ่งมาก นับเป็นเครื่องพิสูจน์ถึงพลังของการพัฒนาโอเพ่นซอร์สและผลกระทบที่ซอฟต์แวร์ที่รอบคอบและได้รับการดูแลอย่างดีสามารถมีต่อระบบนิเวศน์ที่กว้างขึ้นได้

ในปีต่อๆ ไป เรามุ่งมั่นที่จะ:

* **มุ่งมั่นดูแลรักษาและพัฒนาแพ็คเกจที่มีอยู่** อย่างต่อเนื่อง เพื่อให้มั่นใจว่าแพ็คเกจเหล่านี้จะยังคงเป็นเครื่องมือที่เชื่อถือได้สำหรับนักพัฒนาทั่วโลก
* **ขยายการสนับสนุนโครงการโครงสร้างพื้นฐานที่สำคัญ** โดยเฉพาะอย่างยิ่งในด้านอีเมลและความปลอดภัย
* **ยกระดับความสามารถของ Forward Email** ควบคู่ไปกับการยึดมั่นในพันธสัญญาของเราต่อความเป็นส่วนตัว ความปลอดภัย และความโปร่งใส
* **สนับสนุนนักพัฒนาโอเพนซอร์สรุ่นต่อไป** ผ่านการให้คำปรึกษา การสนับสนุน และการมีส่วนร่วมกับชุมชน

เราเชื่อว่าอนาคตของการพัฒนาซอฟต์แวร์จะเป็นแบบเปิด ร่วมมือกัน และสร้างขึ้นบนรากฐานของความไว้วางใจ โดยเราหวังว่าจะได้มีส่วนเล็กๆ น้อยๆ ในการสร้างอนาคตนั้นด้วยการสนับสนุนแพ็คเกจคุณภาพสูงที่เน้นด้านความปลอดภัยให้กับระบบนิเวศ JavaScript ต่อไป

ขอขอบคุณทุกคนที่ใช้แพ็คเกจของเรา มีส่วนสนับสนุนโครงการของเรา รายงานปัญหา หรือเพียงแค่เผยแพร่ข้อมูลเกี่ยวกับงานของเรา การสนับสนุนของคุณทำให้ทศวรรษนี้สร้างผลกระทบได้ และเราตื่นเต้นที่จะได้เห็นว่าเราสามารถบรรลุสิ่งใดได้บ้างร่วมกันในอีกสิบปีข้างหน้า

\[^1]: สถิติการดาวน์โหลด npm สำหรับ cabin, เมษายน 2025
\[^2]: สถิติการดาวน์โหลด npm สำหรับ bson-objectid, กุมภาพันธ์-มีนาคม 2025
\[^3]: สถิติการดาวน์โหลด npm สำหรับ url-regex-safe, เมษายน 2025
\[^4]: จำนวนดาว GitHub สำหรับ forwardemail/forwardemail.net ณ เมษายน 2025
\[^5]: สถิติการดาวน์โหลด npm สำหรับ preview-email, เมษายน 2025
\[^7]: สถิติการดาวน์โหลด npm สำหรับ superagent, กุมภาพันธ์-มีนาคม 2025
\[^8]: สถิติการดาวน์โหลด npm สำหรับ supertest, กุมภาพันธ์-มีนาคม 2025
\[^9]: สถิติการดาวน์โหลด npm สำหรับ preview-email, กุมภาพันธ์-มีนาคม 2025
\[^10]: สถิติการดาวน์โหลด npm สำหรับ cabin, กุมภาพันธ์-มีนาคม 2025
\[^11]: สถิติการดาวน์โหลด npm สำหรับ url-regex-safe, กุมภาพันธ์-มีนาคม 2025
\[^12]: สถิติการดาวน์โหลด npm สำหรับ spamscanner, กุมภาพันธ์-มีนาคม 2025
\[^13]: รูปแบบการดาวน์โหลดรายวันจากสถิติ npm, เมษายน 2025
\[^14]: รูปแบบการดาวน์โหลดรายสัปดาห์จากสถิติ npm, เมษายน 2025
\[^15]: สถิติการดาวน์โหลด npm สำหรับ nodemailer, เมษายน 2025
\[^16]: <https://github.com/nodemailer/smtp-server/issues/155>
\[^17]: <https://github.com/nodemailer/smtp-server/issues/node-v12-requires-tls-min>
\[^18]: <https://github.com/nodemailer/mailparser/issues/261>
\[^19]: <https://github.com/nodemailer/nodemailer/issues/1102>
\[^20]: <https://github.com/postalsys/mailauth/issues/30>
\[^21]: <https://github.com/postalsys/mailauth/issues/58>
\[^22]: <https://github.com/postalsys/mailauth/issues/48>
\[^23]: <https://github.com/postalsys/mailauth/issues/74>
\[^24]: <https://github.com/postalsys/mailauth/issues/75>
\[^25]: <https://github.com/postalsys/mailauth/issues/60>
\[^26]: <https://github.com/postalsys/mailauth/issues/73>
\[^27]: อ้างอิงจากปัญหา GitHub ในคลัง Upptime
\[^28]: อ้างอิงจากปัญหา GitHub ในคลัง Upptime
\[^29]: อ้างอิงจากปัญหา GitHub ในคลัง Upptime
\[^30]: สถิติการดาวน์โหลด npm สำหรับ bree, กุมภาพันธ์-มีนาคม 2025
\[^31]: อ้างอิงจากคำขอดึงข้อมูลของ GitHub ไปยัง Upptime
\[^32]: อ้างอิงจากคำขอดึงข้อมูลของ GitHub ไปยัง Upptime
\[^34]: สถิติการดาวน์โหลด npm สำหรับ koa, กุมภาพันธ์-มีนาคม 2025
\[^35]: สถิติการดาวน์โหลด npm สำหรับ @koa/router, กุมภาพันธ์-มีนาคม 2025
\[^36]: สถิติการดาวน์โหลด npm สำหรับ koa-router, กุมภาพันธ์-มีนาคม 2025
\[^37]: สถิติการดาวน์โหลด npm สำหรับ url-regex, กุมภาพันธ์-มีนาคม 2025
\[^38]: สถิติการดาวน์โหลด npm สำหรับ @breejs/later, กุมภาพันธ์-มีนาคม 2025
\[^39]: สถิติการดาวน์โหลด npm สำหรับเทมเพลตอีเมล, กุมภาพันธ์-มีนาคม 2025
\[^40]: สถิติการดาวน์โหลด npm สำหรับ get-path, กุมภาพันธ์-มีนาคม 2025
\[^41]: สถิติการดาวน์โหลด npm สำหรับ dotenv-parse-variables, กุมภาพันธ์-มีนาคม 2025
\[^42]: สถิติการดาวน์โหลด npm สำหรับ @koa/multer, กุมภาพันธ์-มีนาคม 2025